// File generated with Tower of Babel version: 5.3-beta on 06/23/17
var __extends = this.__extends || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var worm;
(function (worm) {
    var _B = BABYLON;
    var _M = _B.Matrix.FromValues;
    var _Q = _B.Quaternion;
    var _V = _B.Vector3;
    function CONTIG(array, offset, begin, end) {
        for(var i = 0, len = 1 + end - begin; i < len; i++) {
            array[offset + i] = begin + i;
        }
    }
    function REPEAT(array, offset, nRepeats, val) {
        for(var i = 0; i < nRepeats; i++) {
            array[offset + i] = val;
        }
    }
    function UNPACK(compressed) {
        var len = compressed.length * 4;
        ret = new Float32Array(compressed.length * 4);
        for(var i = 0, j = 0; i < len; i += 4, j++) {
            ret[i    ] =  compressed[j] & 0x000000FF;
            ret[i + 1] = (compressed[j] & 0x0000FF00) >> 8;
            ret[i + 2] = (compressed[j] & 0x00FF0000) >> 16;
            ret[i + 3] =  compressed[j] >> 24;
        }
        return ret;
    }

    function initScene(scene, resourcesRootDir, positionOffset) {
        if (!resourcesRootDir) { resourcesRootDir = "./"; }
        if (!positionOffset) { positionOffset = null; }
        scene.autoClear = true;
        scene.clearColor    = new _B.Color3(.0509,.0509,.0509);
        scene.ambientColor  = new _B.Color3(0,0,0);
        scene.gravity = new _V(0,-9.81,0);

        // define materials before meshes
        defineMaterials(scene, resourcesRootDir);

        // instance all root meshes
        var mesh;
        if (typeof (TOWER_OF_BABEL) !== 'undefined'){
            TOWER_OF_BABEL.MeshFactory.MODULES.push(new MeshFactory(scene));
            mesh = TOWER_OF_BABEL.MeshFactory.instance("worm", "Worm", true);
            if (positionOffset) mesh.position.addInPlace(positionOffset);
        } else {
            mesh = new Worm("Worm", scene);
            if (positionOffset) mesh.position.addInPlace(positionOffset);
        }
    }
    worm.initScene = initScene;
    var meshLib = new Array(1);
    var cloneCount = 1;

    var originalVerts = 0;
    var clonedVerts = 0;
    var MeshFactory = (function () {
        function MeshFactory(_scene, materialsRootDir) {
            this._scene = _scene;
            if (!materialsRootDir) { materialsRootDir = "./"; }
            defineMaterials(_scene, materialsRootDir); //embedded version check
        }

        MeshFactory.prototype.getModuleName = function () { return "worm";};

        MeshFactory.prototype.instance = function (meshName, cloneSkeleton) {
            var ret = null;
            var src;
            switch (meshName){
                case "Worm":
                    src = getViable(0);
                    if (src === null){
                        ret = new Worm("Worm", this._scene);
                        originalVerts += ret.getTotalVertices();
                        meshLib[0].push(ret);
                    }else{
                        ret = new Worm("Worm" + "_" + cloneCount++, this._scene, null, src);
                        clonedVerts += ret.getTotalVertices();
                    }
                    break;
            }
            if (ret !== null){
                if (cloneSkeleton && src && src.skeleton){
                    var skelName = src.skeleton.name + cloneCount;
                    ret.skeleton = src.skeleton.clone(skelName, skelName);
                }
            }
            else _B.Tools.Error("Mesh not found: " + meshName);
            return ret;
        };
        return MeshFactory;
    })();
    worm.MeshFactory = MeshFactory;
    function getViable(libIdx, isNode) {
        var meshes = meshLib[libIdx];
        if (!meshes || meshes === null){
            if (!meshes) meshLib[libIdx] = new Array();
            return null;
        }

        for (var i = meshes.length - 1; i >= 0; i--){
            if (meshes[i].geometry || isNode) return meshes[i];
        }
        return null;
    }

    function clean(libIdx) {
        var meshes = meshLib[libIdx];
        if (!meshes  || meshes === null) return;

        var stillViable = false;
        for (var i = meshes.length - 1; i >= 0; i--){
            if (!meshes[i].geometry) meshes[i] = null;
            else stillViable = true;
        }
        if (!stillViable) meshLib[libIdx] = null;
    }

    function getStats() { return [cloneCount, originalVerts, clonedVerts]; }
    worm.getStats = getStats;


    var waitingMeshes = [];
    var pendingTextures = 0;
    function onTexturesLoaded(){
        if (--pendingTextures > 0) return;
        for (var i = 0, len = waitingMeshes.length; i < len; i++){
            if (typeof waitingMeshes[i].grandEntrance == "function") waitingMeshes[i].grandEntrance();
            else makeVisible(waitingMeshes[i]);
        }
        waitingMeshes = [];
        matLoaded = true;
    }

    function makeVisible(mesh){
        var children = mesh.getChildMeshes();
        mesh.isVisible = true;
        for (var i = 0, len = children.length; i < len; i++){
            children[i].isVisible = true;
        }
    }

    var aheadQueued = false;
    function matReadAhead(materialsRootDir) {
        if (aheadQueued) return;
        var txBuffer;
        var fName;

        fName = "worm.png";
        if (!TOWER_OF_BABEL.Preloader.findTextureBuffer(fName)) {
            txtBuffer = new TOWER_OF_BABEL.TextureBuffer(materialsRootDir, fName);
            txtBuffer.hasAlpha = true;
            txtBuffer.level = 1;
            txtBuffer.coordinatesIndex = 0;
            txtBuffer.coordinatesMode = 0;
            txtBuffer.uOffset = 0;
            txtBuffer.vOffset = 0;
            txtBuffer.uScale = 1;
            txtBuffer.vScale = 1;
            txtBuffer.uAng = 0;
            txtBuffer.vAng = 0;
            txtBuffer.wAng = 0;
            txtBuffer.wrapU = 1;
            txtBuffer.wrapV = 1;
            pendingTextures++;
            TOWER_OF_BABEL.Preloader.addtextureBuffer(txtBuffer);
        }

        aheadQueued = true;
    }
    worm.matReadAhead = matReadAhead;

    var matLoaded = false;
    function defineMaterials(scene, materialsRootDir) {
        if (!materialsRootDir) { materialsRootDir = "./"; }
        if (materialsRootDir.lastIndexOf("/") + 1  !== materialsRootDir.length) { materialsRootDir  += "/"; }
        TOWER_OF_BABEL.Preloader.SCENE = scene;
        matReadAhead(materialsRootDir);
        var material;
        var texture;
        var txBuffer;


        material = scene.getMaterialByID("worm.Material");
        if (!material){
            material = new _B.StandardMaterial("worm.Material", scene);
            material.ambientColor  = new _B.Color3(.8,.8,.8);
            material.diffuseColor  = new _B.Color3(.64,.64,.64);
            material.emissiveColor = new _B.Color3(0,0,0);
            material.specularColor = new _B.Color3(0,0,0);
            material.specularPower = 50;
            material.alpha =  1;
            material.backFaceCulling = true;
            material.checkReadyOnlyOnce = false;
            material.maxSimultaneousLights = 4;
        txtBuffer = TOWER_OF_BABEL.Preloader.findTextureBuffer("worm.png");
        txtBuffer.applyWhenReady(material, TOWER_OF_BABEL.TextureBuffer.DIFFUSE_TEX, onTexturesLoaded);
        } else material.markDirty();
        if (pendingTextures === 0) matLoaded = true;
    }
    worm.defineMaterials = defineMaterials;

    function skel_Armature(name, scene){
        var bone;
        var animation;

        var skeleton = new QI.Skeleton(name, "0", scene);
        skeleton.dimensionsAtRest = new _V(0,0,4.5054);
        bone = new QI.Bone("Bone", skeleton,null, _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1029,1), _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1029,1));
        bone.length = 1.0864;
        animation = new _B.Animation("anim", "_matrix", 24, 3, 1);
        animation.setKeys([
        {frame: 1, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1029,1)},
        {frame: 11, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.0319,1)},
        {frame: 12, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,1.8252,1)},
        {frame: 13, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,1.5282,1)},
        {frame: 14, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,1.2312,1)},
        {frame: 15, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,1.0245,1)},
        {frame: 16, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,.9535,1)},
        {frame: 17, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,.985,1)},
        {frame: 18, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,1.0795,1)},
        {frame: 19, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,1.2312,1)},
        {frame: 20, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,1.4241,1)},
        {frame: 21, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,1.6323,1)},
        {frame: 22, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,1.8252,1)},
        {frame: 23, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,1.9769,1)},
        {frame: 24, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.0714,1)},
        {frame: 25, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1029,1)},
        {frame: 31, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1029,1)},
        {frame: 32, value: _M(.996,.0794,-.0408,0,-.0441,.0408,-.9982,0,.0776,-.996,-.0441,0,0,0,2.048,1)},
        {frame: 33, value: _M(.9323,.3322,-.1431,0,-.1998,.1431,-.9693,0,.3016,-.9323,-.1998,0,0,0,1.8884,1)},
        {frame: 34, value: _M(.6917,.6917,-.2075,0,-.4655,.2075,-.8604,0,.5521,-.6917,-.4655,0,0,0,1.6589,1)},
        {frame: 35, value: _M(.3322,.9323,-.1431,0,-.7021,.1431,-.6975,0,.6298,-.3322,-.7021,0,0,0,1.4294,1)},
        {frame: 36, value: _M(.0794,.996,-.0408,0,-.8114,.0408,-.583,0,.579,-.0794,-.8114,0,0,0,1.2697,1)},
        {frame: 37, value: _M(0,1,0,0,-.8371,0,-.5471,0,.5471,0,-.8371,0,0,0,1.2149,1)},
        {frame: 54, value: _M(0,1,0,0,-.8371,0,-.5471,0,.5471,0,-.8371,0,0,0,1.2149,1)},
        {frame: 61, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1029,1)},
        {frame: 62, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1029,1)},
        {frame: 71, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1029,1)},
        {frame: 72, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1033,1)},
        {frame: 73, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1045,1)},
        {frame: 74, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1066,1)},
        {frame: 75, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1095,1)},
        {frame: 76, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1132,1)},
        {frame: 77, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1177,1)},
        {frame: 78, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1229,1)},
        {frame: 79, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.129,1)},
        {frame: 80, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1357,1)},
        {frame: 81, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1429,1)},
        {frame: 82, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1508,1)},
        {frame: 83, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.159,1)},
        {frame: 84, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1675,1)},
        {frame: 85, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1763,1)},
        {frame: 86, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1851,1)},
        {frame: 87, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1938,1)},
        {frame: 88, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.2023,1)},
        {frame: 89, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.2106,1)},
        {frame: 90, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.2184,1)},
        {frame: 91, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.2257,1)},
        {frame: 92, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.2324,1)},
        {frame: 93, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.2384,1)},
        {frame: 94, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.2436,1)},
        {frame: 95, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.2482,1)},
        {frame: 96, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.2519,1)},
        {frame: 97, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.2547,1)},
        {frame: 98, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.2568,1)},
        {frame: 99, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.258,1)},
        {frame: 100, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.2584,1)},
        {frame: 101, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.2581,1)},
        {frame: 102, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.2569,1)},
        {frame: 103, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.255,1)},
        {frame: 104, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.2523,1)},
        {frame: 105, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.2488,1)},
        {frame: 106, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.2446,1)},
        {frame: 107, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.2397,1)},
        {frame: 108, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.234,1)},
        {frame: 109, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.2277,1)},
        {frame: 110, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.2209,1)},
        {frame: 111, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.2135,1)},
        {frame: 112, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.2057,1)},
        {frame: 113, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1975,1)},
        {frame: 114, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1891,1)},
        {frame: 115, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1807,1)},
        {frame: 116, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1722,1)},
        {frame: 117, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1638,1)},
        {frame: 118, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1557,1)},
        {frame: 119, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1478,1)},
        {frame: 120, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1405,1)},
        {frame: 121, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1336,1)},
        {frame: 122, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1273,1)},
        {frame: 123, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1216,1)},
        {frame: 124, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1167,1)},
        {frame: 125, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1125,1)},
        {frame: 126, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.109,1)},
        {frame: 127, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1063,1)},
        {frame: 128, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1044,1)},
        {frame: 129, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1033,1)},
        {frame: 130, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1029,1)},
        {frame: 141, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1029,1)},
        {frame: 142, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.0992,1)},
        {frame: 143, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.0881,1)},
        {frame: 144, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.0702,1)},
        {frame: 145, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.0476,1)},
        {frame: 146, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.0231,1)},
        {frame: 147, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.0004,1)},
        {frame: 148, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,1.9826,1)},
        {frame: 149, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,1.9715,1)},
        {frame: 150, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,1.9678,1)},
        {frame: 151, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,1.9685,1)},
        {frame: 152, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,1.9708,1)},
        {frame: 153, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,1.9746,1)},
        {frame: 154, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,1.9798,1)},
        {frame: 155, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,1.9865,1)},
        {frame: 156, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,1.9945,1)},
        {frame: 157, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.0036,1)},
        {frame: 158, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.0136,1)},
        {frame: 159, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.0243,1)},
        {frame: 160, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.0353,1)},
        {frame: 161, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.0464,1)},
        {frame: 162, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.057,1)},
        {frame: 163, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.0671,1)},
        {frame: 164, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.0762,1)},
        {frame: 165, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.0842,1)},
        {frame: 166, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.0909,1)},
        {frame: 167, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.0961,1)},
        {frame: 168, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.0999,1)},
        {frame: 169, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1021,1)},
        {frame: 170, value: _M(1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,2.1029,1)}
        ]);
        bone.animations.push(animation);

        bone = new QI.Bone("Bone.001", skeleton,skeleton.bones[0], _M(1,0,0,0,0,1,0,0,0,0,1,0,0,1.0864,0,1), _M(1,0,0,0,0,1,0,0,0,0,1,0,0,1.0864,0,1));
        bone.length = 1.01;
        animation = new _B.Animation("anim", "_matrix", 24, 3, 1);
        animation.setKeys([
        {frame: 1, value: _M(1,0,0,0,0,1,0,0,0,0,1,0,0,1.0864,0,1)},
        {frame: 2, value: _M(1,0,0,0,0,.9999,-.0166,0,0,.0166,.9999,0,0,1.0864,0,1)},
        {frame: 3, value: _M(1,0,0,0,0,.9978,-.0665,0,0,.0665,.9978,0,0,1.0864,0,1)},
        {frame: 4, value: _M(1,0,0,0,0,.9892,-.1468,0,0,.1468,.9892,0,0,1.0864,0,1)},
        {frame: 5, value: _M(1,0,0,0,0,.9687,-.2482,0,0,.2482,.9687,0,0,1.0864,0,1)},
        {frame: 6, value: _M(1,0,0,0,0,.9349,-.355,0,0,.355,.9349,0,0,1.0864,0,1)},
        {frame: 7, value: _M(1,0,0,0,0,.8932,-.4497,0,0,.4497,.8932,0,0,1.0864,0,1)},
        {frame: 8, value: _M(1,0,0,0,0,.854,-.5203,0,0,.5203,.854,0,0,1.0864,0,1)},
        {frame: 9, value: _M(1,0,0,0,0,.8269,-.5623,0,0,.5623,.8269,0,0,1.0864,0,1)},
        {frame: 10, value: _M(1,0,0,0,0,.8175,-.5759,0,0,.5759,.8175,0,0,1.0864,0,1)},
        {frame: 11, value: _M(1,0,0,0,0,.8249,-.5653,0,0,.5653,.8249,0,0,1.0864,0,1)},
        {frame: 12, value: _M(1,0,0,0,0,.8467,-.5321,0,0,.5321,.8467,0,0,1.0864,0,1)},
        {frame: 13, value: _M(1,0,0,0,0,.8782,-.4783,0,0,.4783,.8782,0,0,1.0864,0,1)},
        {frame: 14, value: _M(1,0,0,0,0,.9106,-.4133,0,0,.4133,.9106,0,0,1.0864,0,1)},
        {frame: 15, value: _M(1,0,0,0,0,.9363,-.3512,0,0,.3512,.9363,0,0,1.0864,0,1)},
        {frame: 16, value: _M(1,0,0,0,0,.9533,-.3021,0,0,.3021,.9533,0,0,1.0864,0,1)},
        {frame: 17, value: _M(1,0,0,0,0,.9659,-.2591,0,0,.2591,.9659,0,0,1.0864,0,1)},
        {frame: 18, value: _M(1,0,0,0,0,.9771,-.2126,0,0,.2126,.9771,0,0,1.0864,0,1)},
        {frame: 19, value: _M(1,0,0,0,0,.9864,-.1646,0,0,.1646,.9864,0,0,1.0864,0,1)},
        {frame: 20, value: _M(1,0,0,0,0,.993,-.118,0,0,.118,.993,0,0,1.0864,0,1)},
        {frame: 21, value: _M(1,0,0,0,0,.9971,-.0762,0,0,.0762,.9971,0,0,1.0864,0,1)},
        {frame: 22, value: _M(1,0,0,0,0,.9991,-.0423,0,0,.0423,.9991,0,0,1.0864,0,1)},
        {frame: 23, value: _M(1,0,0,0,0,.9998,-.0183,0,0,.0183,.9998,0,0,1.0864,0,1)},
        {frame: 24, value: _M(1,0,0,0,0,1,-.0044,0,0,.0044,1,0,0,1.0864,0,1)},
        {frame: 25, value: _M(1,0,0,0,0,1,0,0,0,0,1,0,0,1.0864,0,1)},
        {frame: 31, value: _M(1,0,0,0,0,1,0,0,0,0,1,0,0,1.0864,0,1)},
        {frame: 32, value: _M(1,0,0,0,0,.9988,.05,0,0,-.05,.9988,0,0,1.0864,0,1)},
        {frame: 33, value: _M(1,0,0,0,0,.9805,.1966,0,0,-.1966,.9805,0,0,1.0864,0,1)},
        {frame: 34, value: _M(1,0,0,0,0,.9154,.4026,0,0,-.4026,.9154,0,0,1.0864,0,1)},
        {frame: 35, value: _M(1,0,0,0,0,.8076,.5897,0,0,-.5897,.8076,0,0,1.0864,0,1)},
        {frame: 36, value: _M(1,0,0,0,0,.7119,.7023,0,0,-.7023,.7119,0,0,1.0864,0,1)},
        {frame: 37, value: _M(1,0,0,0,0,.6759,.737,0,0,-.737,.6759,0,0,1.0864,0,1)},
        {frame: 54, value: _M(1,0,0,0,0,.6759,.737,0,0,-.737,.6759,0,0,1.0864,0,1)},
        {frame: 61, value: _M(1,0,0,0,0,1,0,0,0,0,1,0,0,1.0864,0,1)},
        {frame: 62, value: _M(1,0,0,0,0,1,0,0,0,0,1,0,0,1.0864,0,1)},
        {frame: 71, value: _M(1,0,0,0,0,1,0,0,0,0,1,0,0,1.0864,0,1)},
        {frame: 72, value: _M(1.0003,0,0,0,0,1.0003,0,0,0,0,1.0003,0,0,1.0864,0,1)},
        {frame: 73, value: _M(1.0011,0,0,0,0,1.0011,0,0,0,0,1.0011,0,0,1.0864,0,1)},
        {frame: 74, value: _M(1.0025,0,0,0,0,1.0025,0,0,0,0,1.0025,0,0,1.0864,0,1)},
        {frame: 75, value: _M(1.0044,0,0,0,0,1.0044,0,0,0,0,1.0044,0,0,1.0864,0,1)},
        {frame: 76, value: _M(1.0068,0,0,0,0,1.0068,0,0,0,0,1.0068,0,0,1.0864,0,1)},
        {frame: 77, value: _M(1.0098,0,0,0,0,1.0098,0,0,0,0,1.0098,0,0,1.0864,0,1)},
        {frame: 78, value: _M(1.0133,0,0,0,0,1.0133,0,0,0,0,1.0133,0,0,1.0864,0,1)},
        {frame: 79, value: _M(1.0173,0,0,0,0,1.0173,0,0,0,0,1.0173,0,0,1.0864,0,1)},
        {frame: 80, value: _M(1.0218,0,0,0,0,1.0218,0,0,0,0,1.0218,0,0,1.0864,0,1)},
        {frame: 81, value: _M(1.0266,0,0,0,0,1.0266,0,0,0,0,1.0266,0,0,1.0864,0,1)},
        {frame: 82, value: _M(1.0318,0,0,0,0,1.0318,0,0,0,0,1.0318,0,0,1.0864,0,1)},
        {frame: 83, value: _M(1.0373,0,0,0,0,1.0373,0,0,0,0,1.0373,0,0,1.0864,0,1)},
        {frame: 84, value: _M(1.043,0,0,0,0,1.043,0,0,0,0,1.043,0,0,1.0864,0,1)},
        {frame: 85, value: _M(1.0488,0,0,0,0,1.0488,0,0,0,0,1.0488,0,0,1.0864,0,1)},
        {frame: 86, value: _M(1.0546,0,0,0,0,1.0546,0,0,0,0,1.0546,0,0,1.0864,0,1)},
        {frame: 87, value: _M(1.0604,0,0,0,0,1.0604,0,0,0,0,1.0604,0,0,1.0864,0,1)},
        {frame: 88, value: _M(1.0661,0,0,0,0,1.0661,0,0,0,0,1.0661,0,0,1.0864,0,1)},
        {frame: 89, value: _M(1.0716,0,0,0,0,1.0716,0,0,0,0,1.0716,0,0,1.0864,0,1)},
        {frame: 90, value: _M(1.0767,0,0,0,0,1.0767,0,0,0,0,1.0767,0,0,1.0864,0,1)},
        {frame: 91, value: _M(1.0816,0,0,0,0,1.0816,0,0,0,0,1.0816,0,0,1.0864,0,1)},
        {frame: 92, value: _M(1.086,0,0,0,0,1.086,0,0,0,0,1.086,0,0,1.0864,0,1)},
        {frame: 93, value: _M(1.09,0,0,0,0,1.09,0,0,0,0,1.09,0,0,1.0864,0,1)},
        {frame: 94, value: _M(1.0935,0,0,0,0,1.0935,0,0,0,0,1.0935,0,0,1.0864,0,1)},
        {frame: 95, value: _M(1.0965,0,0,0,0,1.0965,0,0,0,0,1.0965,0,0,1.0864,0,1)},
        {frame: 96, value: _M(1.099,0,0,0,0,1.099,0,0,0,0,1.099,0,0,1.0864,0,1)},
        {frame: 97, value: _M(1.1009,0,0,0,0,1.1009,0,0,0,0,1.1009,0,0,1.0864,0,1)},
        {frame: 98, value: _M(1.1023,0,0,0,0,1.1023,0,0,0,0,1.1023,0,0,1.0864,0,1)},
        {frame: 99, value: _M(1.1031,0,0,0,0,1.1031,0,0,0,0,1.1031,0,0,1.0864,0,1)},
        {frame: 100, value: _M(1.1034,0,0,0,0,1.1034,0,0,0,0,1.1034,0,0,1.0864,0,1)},
        {frame: 101, value: _M(1.1031,0,0,0,0,1.1031,0,0,0,0,1.1031,0,0,1.0864,0,1)},
        {frame: 102, value: _M(1.1024,0,0,0,0,1.1024,0,0,0,0,1.1024,0,0,1.0864,0,1)},
        {frame: 103, value: _M(1.1011,0,0,0,0,1.1011,0,0,0,0,1.1011,0,0,1.0864,0,1)},
        {frame: 104, value: _M(1.0993,0,0,0,0,1.0993,0,0,0,0,1.0993,0,0,1.0864,0,1)},
        {frame: 105, value: _M(1.097,0,0,0,0,1.097,0,0,0,0,1.097,0,0,1.0864,0,1)},
        {frame: 106, value: _M(1.0942,0,0,0,0,1.0942,0,0,0,0,1.0942,0,0,1.0864,0,1)},
        {frame: 107, value: _M(1.0909,0,0,0,0,1.0909,0,0,0,0,1.0909,0,0,1.0864,0,1)},
        {frame: 108, value: _M(1.0872,0,0,0,0,1.0872,0,0,0,0,1.0872,0,0,1.0864,0,1)},
        {frame: 109, value: _M(1.083,0,0,0,0,1.083,0,0,0,0,1.083,0,0,1.0864,0,1)},
        {frame: 110, value: _M(1.0784,0,0,0,0,1.0784,0,0,0,0,1.0784,0,0,1.0864,0,1)},
        {frame: 111, value: _M(1.0735,0,0,0,0,1.0735,0,0,0,0,1.0735,0,0,1.0864,0,1)},
        {frame: 112, value: _M(1.0683,0,0,0,0,1.0683,0,0,0,0,1.0683,0,0,1.0864,0,1)},
        {frame: 113, value: _M(1.0629,0,0,0,0,1.0629,0,0,0,0,1.0629,0,0,1.0864,0,1)},
        {frame: 114, value: _M(1.0573,0,0,0,0,1.0573,0,0,0,0,1.0573,0,0,1.0864,0,1)},
        {frame: 115, value: _M(1.0517,0,0,0,0,1.0517,0,0,0,0,1.0517,0,0,1.0864,0,1)},
        {frame: 116, value: _M(1.046,0,0,0,0,1.046,0,0,0,0,1.046,0,0,1.0864,0,1)},
        {frame: 117, value: _M(1.0405,0,0,0,0,1.0405,0,0,0,0,1.0405,0,0,1.0864,0,1)},
        {frame: 118, value: _M(1.0351,0,0,0,0,1.0351,0,0,0,0,1.0351,0,0,1.0864,0,1)},
        {frame: 119, value: _M(1.0299,0,0,0,0,1.0299,0,0,0,0,1.0299,0,0,1.0864,0,1)},
        {frame: 120, value: _M(1.025,0,0,0,0,1.025,0,0,0,0,1.025,0,0,1.0864,0,1)},
        {frame: 121, value: _M(1.0204,0,0,0,0,1.0204,0,0,0,0,1.0204,0,0,1.0864,0,1)},
        {frame: 122, value: _M(1.0162,0,0,0,0,1.0162,0,0,0,0,1.0162,0,0,1.0864,0,1)},
        {frame: 123, value: _M(1.0125,0,0,0,0,1.0125,0,0,0,0,1.0125,0,0,1.0864,0,1)},
        {frame: 124, value: _M(1.0092,0,0,0,0,1.0092,0,0,0,0,1.0092,0,0,1.0864,0,1)},
        {frame: 125, value: _M(1.0064,0,0,0,0,1.0064,0,0,0,0,1.0064,0,0,1.0864,0,1)},
        {frame: 126, value: _M(1.0041,0,0,0,0,1.0041,0,0,0,0,1.0041,0,0,1.0864,0,1)},
        {frame: 127, value: _M(1.0023,0,0,0,0,1.0023,0,0,0,0,1.0023,0,0,1.0864,0,1)},
        {frame: 128, value: _M(1.001,0,0,0,0,1.001,0,0,0,0,1.001,0,0,1.0864,0,1)},
        {frame: 129, value: _M(1.0003,0,0,0,0,1.0003,0,0,0,0,1.0003,0,0,1.0864,0,1)},
        {frame: 130, value: _M(1,0,0,0,0,1,0,0,0,0,1,0,0,1.0864,0,1)},
        {frame: 141, value: _M(1,0,0,0,0,1,0,0,0,0,1,0,0,1.0864,0,1)},
        {frame: 142, value: _M(1,0,0,0,0,.9999,-.0166,0,0,.0166,.9999,0,0,1.0864,0,1)},
        {frame: 143, value: _M(1,0,0,0,0,.9978,-.0665,0,0,.0665,.9978,0,0,1.0864,0,1)},
        {frame: 144, value: _M(1,0,0,0,0,.9892,-.1468,0,0,.1468,.9892,0,0,1.0864,0,1)},
        {frame: 145, value: _M(1,0,0,0,0,.9687,-.2482,0,0,.2482,.9687,0,0,1.0864,0,1)},
        {frame: 146, value: _M(1,0,0,0,0,.9349,-.355,0,0,.355,.9349,0,0,1.0864,0,1)},
        {frame: 147, value: _M(1,0,0,0,0,.8932,-.4497,0,0,.4497,.8932,0,0,1.0864,0,1)},
        {frame: 148, value: _M(1,0,0,0,0,.854,-.5203,0,0,.5203,.854,0,0,1.0864,0,1)},
        {frame: 149, value: _M(1,0,0,0,0,.8269,-.5623,0,0,.5623,.8269,0,0,1.0864,0,1)},
        {frame: 150, value: _M(1,0,0,0,0,.8175,-.5759,0,0,.5759,.8175,0,0,1.0864,0,1)},
        {frame: 151, value: _M(1,0,0,0,0,.8194,-.5732,0,0,.5732,.8194,0,0,1.0864,0,1)},
        {frame: 152, value: _M(1,0,0,0,0,.8252,-.5649,0,0,.5649,.8252,0,0,1.0864,0,1)},
        {frame: 153, value: _M(1,0,0,0,0,.8346,-.5509,0,0,.5509,.8346,0,0,1.0864,0,1)},
        {frame: 154, value: _M(1,0,0,0,0,.8473,-.531,0,0,.531,.8473,0,0,1.0864,0,1)},
        {frame: 155, value: _M(1,0,0,0,0,.863,-.5053,0,0,.5053,.863,0,0,1.0864,0,1)},
        {frame: 156, value: _M(1,0,0,0,0,.8807,-.4737,0,0,.4737,.8807,0,0,1.0864,0,1)},
        {frame: 157, value: _M(1,0,0,0,0,.8996,-.4368,0,0,.4368,.8996,0,0,1.0864,0,1)},
        {frame: 158, value: _M(1,0,0,0,0,.9186,-.3951,0,0,.3951,.9186,0,0,1.0864,0,1)},
        {frame: 159, value: _M(1,0,0,0,0,.9368,-.3498,0,0,.3498,.9368,0,0,1.0864,0,1)},
        {frame: 160, value: _M(1,0,0,0,0,.9533,-.3021,0,0,.3021,.9533,0,0,1.0864,0,1)},
        {frame: 161, value: _M(1,0,0,0,0,.9673,-.2536,0,0,.2536,.9673,0,0,1.0864,0,1)},
        {frame: 162, value: _M(1,0,0,0,0,.9785,-.206,0,0,.206,.9785,0,0,1.0864,0,1)},
        {frame: 163, value: _M(1,0,0,0,0,.987,-.161,0,0,.161,.987,0,0,1.0864,0,1)},
        {frame: 164, value: _M(1,0,0,0,0,.9928,-.1199,0,0,.1199,.9928,0,0,1.0864,0,1)},
        {frame: 165, value: _M(1,0,0,0,0,.9965,-.0839,0,0,.0839,.9965,0,0,1.0864,0,1)},
        {frame: 166, value: _M(1,0,0,0,0,.9985,-.0539,0,0,.0539,.9985,0,0,1.0864,0,1)},
        {frame: 167, value: _M(1,0,0,0,0,.9995,-.0303,0,0,.0303,.9995,0,0,1.0864,0,1)},
        {frame: 168, value: _M(1,0,0,0,0,.9999,-.0134,0,0,.0134,.9999,0,0,1.0864,0,1)},
        {frame: 169, value: _M(1,0,0,0,0,1,-.0033,0,0,.0033,1,0,0,1.0864,0,1)},
        {frame: 170, value: _M(1,0,0,0,0,1,0,0,0,0,1,0,0,1.0864,0,1)}
        ]);
        bone.animations.push(animation);

        bone = new QI.Bone("Bone.002", skeleton,skeleton.bones[1], _M(1,0,0,0,0,1,0,0,0,0,1,0,0,1.01,0,1), _M(1,0,0,0,0,1,0,0,0,0,1,0,0,1.01,0,1));
        bone.length = 1.0046;
        animation = new _B.Animation("anim", "_matrix", 24, 3, 1);
        animation.setKeys([
        {frame: 1, value: _M(1,0,0,0,0,1,0,0,0,0,1,0,0,1.01,0,1)},
        {frame: 2, value: _M(1,0,0,0,0,.9996,.0289,0,0,-.0289,.9996,0,0,1.01,0,1)},
        {frame: 3, value: _M(1,0,0,0,0,.9932,.1167,0,0,-.1167,.9932,0,0,1.01,0,1)},
        {frame: 4, value: _M(1,0,0,0,0,.9659,.2589,0,0,-.2589,.9659,0,0,1.01,0,1)},
        {frame: 5, value: _M(1,0,0,0,0,.9002,.4355,0,0,-.4355,.9002,0,0,1.01,0,1)},
        {frame: 6, value: _M(1,0,0,0,0,.7923,.6101,0,0,-.6101,.7923,0,0,1.01,0,1)},
        {frame: 7, value: _M(1,0,0,0,0,.6638,.7479,0,0,-.7479,.6638,0,0,1.01,0,1)},
        {frame: 8, value: _M(1,0,0,0,0,.5488,.836,0,0,-.836,.5488,0,0,1.01,0,1)},
        {frame: 9, value: _M(1,0,0,0,0,.4731,.881,0,0,-.881,.4731,0,0,1.01,0,1)},
        {frame: 10, value: _M(1,0,0,0,0,.4475,.8943,0,0,-.8943,.4475,0,0,1.01,0,1)},
        {frame: 11, value: _M(1,0,0,0,0,.489,.8723,0,0,-.8723,.489,0,0,1.01,0,1)},
        {frame: 12, value: _M(1,0,0,0,0,.6085,.7935,0,0,-.7935,.6085,0,0,1.01,0,1)},
        {frame: 13, value: _M(1,0,0,0,0,.7679,.6406,0,0,-.6406,.7679,0,0,1.01,0,1)},
        {frame: 14, value: _M(1,0,0,0,0,.8982,.4396,0,0,-.4396,.8982,0,0,1.01,0,1)},
        {frame: 15, value: _M(1,0,0,0,0,.9643,.2647,0,0,-.2647,.9643,0,0,1.01,0,1)},
        {frame: 16, value: _M(1,0,0,0,0,.9855,.1695,0,0,-.1695,.9855,0,0,1.01,0,1)},
        {frame: 17, value: _M(1,0,0,0,0,.9924,.1231,0,0,-.1231,.9924,0,0,1.01,0,1)},
        {frame: 18, value: _M(1,0,0,0,0,.9965,.0837,0,0,-.0837,.9965,0,0,1.01,0,1)},
        {frame: 19, value: _M(1,0,0,0,0,.9986,.0522,0,0,-.0522,.9986,0,0,1.01,0,1)},
        {frame: 20, value: _M(1,0,0,0,0,.9996,.0291,0,0,-.0291,.9996,0,0,1.01,0,1)},
        {frame: 21, value: _M(1,0,0,0,0,.9999,.0139,0,0,-.0139,.9999,0,0,1.01,0,1)},
        {frame: 22, value: _M(1,0,0,0,0,1,.0054,0,0,-.0054,1,0,0,1.01,0,1)},
        {frame: 23, value: _M(1,0,0,0,0,1,.0014,0,0,-.0014,1,0,0,1.01,0,1)},
        {frame: 24, value: _M(1,0,0,0,0,1,.0002,0,0,-.0002,1,0,0,1.01,0,1)},
        {frame: 25, value: _M(1,0,0,0,0,1,0,0,0,0,1,0,0,1.01,0,1)},
        {frame: 31, value: _M(1,0,0,0,0,1,0,0,0,0,1,0,0,1.01,0,1)},
        {frame: 32, value: _M(1,0,0,0,0,.9987,.0503,0,0,-.0503,.9987,0,0,1.01,0,1)},
        {frame: 33, value: _M(1,0,0,0,0,.9798,.1998,0,0,-.1998,.9798,0,0,1.01,0,1)},
        {frame: 34, value: _M(1,0,0,0,0,.9102,.4141,0,0,-.4141,.9102,0,0,1.01,0,1)},
        {frame: 35, value: _M(1,0,0,0,0,.788,.6157,0,0,-.6157,.788,0,0,1.01,0,1)},
        {frame: 36, value: _M(1,0,0,0,0,.6656,.7463,0,0,-.7463,.6656,0,0,1.01,0,1)},
        {frame: 37, value: _M(1,0,0,0,0,.5944,.8041,0,0,-.8041,.5944,0,0,1.01,0,1)},
        {frame: 38, value: _M(1,0,0,0,0,.5575,.8302,0,0,-.8302,.5575,0,0,1.01,0,1)},
        {frame: 39, value: _M(1,0,0,0,0,.5218,.853,0,0,-.853,.5218,0,0,1.01,0,1)},
        {frame: 40, value: _M(1,0,0,0,0,.488,.8728,0,0,-.8728,.488,0,0,1.01,0,1)},
        {frame: 41, value: _M(1,0,0,0,0,.4566,.8897,0,0,-.8897,.4566,0,0,1.01,0,1)},
        {frame: 42, value: _M(1,0,0,0,0,.428,.9038,0,0,-.9038,.428,0,0,1.01,0,1)},
        {frame: 43, value: _M(1,0,0,0,0,.4027,.9153,0,0,-.9153,.4027,0,0,1.01,0,1)},
        {frame: 44, value: _M(1,0,0,0,0,.381,.9246,0,0,-.9246,.381,0,0,1.01,0,1)},
        {frame: 45, value: _M(1,0,0,0,0,.3629,.9318,0,0,-.9318,.3629,0,0,1.01,0,1)},
        {frame: 46, value: _M(1,0,0,0,0,.3484,.9374,0,0,-.9374,.3484,0,0,1.01,0,1)},
        {frame: 47, value: _M(1,0,0,0,0,.3371,.9415,0,0,-.9415,.3371,0,0,1.01,0,1)},
        {frame: 48, value: _M(1,0,0,0,0,.3289,.9444,0,0,-.9444,.3289,0,0,1.01,0,1)},
        {frame: 49, value: _M(1,0,0,0,0,.3232,.9463,0,0,-.9463,.3232,0,0,1.01,0,1)},
        {frame: 50, value: _M(1,0,0,0,0,.3194,.9476,0,0,-.9476,.3194,0,0,1.01,0,1)},
        {frame: 51, value: _M(1,0,0,0,0,.3172,.9484,0,0,-.9484,.3172,0,0,1.01,0,1)},
        {frame: 52, value: _M(1,0,0,0,0,.316,.9488,0,0,-.9488,.316,0,0,1.01,0,1)},
        {frame: 53, value: _M(1,0,0,0,0,.3156,.9489,0,0,-.9489,.3156,0,0,1.01,0,1)},
        {frame: 54, value: _M(1,0,0,0,0,.3155,.9489,0,0,-.9489,.3155,0,0,1.01,0,1)},
        {frame: 61, value: _M(1,0,0,0,0,1,0,0,0,0,1,0,0,1.01,0,1)},
        {frame: 62, value: _M(1,0,0,0,0,1,0,0,0,0,1,0,0,1.01,0,1)},
        {frame: 71, value: _M(1,0,0,0,0,1,0,0,0,0,1,0,0,1.01,0,1)},
        {frame: 130, value: _M(1,0,0,0,0,1,0,0,0,0,1,0,0,1.01,0,1)},
        {frame: 141, value: _M(1,0,0,0,0,1,0,0,0,0,1,0,0,1.01,0,1)},
        {frame: 142, value: _M(1,0,0,0,0,.9996,.0289,0,0,-.0289,.9996,0,0,1.01,0,1)},
        {frame: 143, value: _M(1,0,0,0,0,.9932,.1167,0,0,-.1167,.9932,0,0,1.01,0,1)},
        {frame: 144, value: _M(1,0,0,0,0,.9659,.2589,0,0,-.2589,.9659,0,0,1.01,0,1)},
        {frame: 145, value: _M(1,0,0,0,0,.9002,.4355,0,0,-.4355,.9002,0,0,1.01,0,1)},
        {frame: 146, value: _M(1,0,0,0,0,.7923,.6101,0,0,-.6101,.7923,0,0,1.01,0,1)},
        {frame: 147, value: _M(1,0,0,0,0,.6638,.7479,0,0,-.7479,.6638,0,0,1.01,0,1)},
        {frame: 148, value: _M(1,0,0,0,0,.5488,.836,0,0,-.836,.5488,0,0,1.01,0,1)},
        {frame: 149, value: _M(1,0,0,0,0,.4731,.881,0,0,-.881,.4731,0,0,1.01,0,1)},
        {frame: 150, value: _M(1,0,0,0,0,.4475,.8943,0,0,-.8943,.4475,0,0,1.01,0,1)},
        {frame: 151, value: _M(1,0,0,0,0,.4526,.8917,0,0,-.8917,.4526,0,0,1.01,0,1)},
        {frame: 152, value: _M(1,0,0,0,0,.4683,.8836,0,0,-.8836,.4683,0,0,1.01,0,1)},
        {frame: 153, value: _M(1,0,0,0,0,.4942,.8694,0,0,-.8694,.4942,0,0,1.01,0,1)},
        {frame: 154, value: _M(1,0,0,0,0,.53,.848,0,0,-.848,.53,0,0,1.01,0,1)},
        {frame: 155, value: _M(1,0,0,0,0,.5746,.8184,0,0,-.8184,.5746,0,0,1.01,0,1)},
        {frame: 156, value: _M(1,0,0,0,0,.6264,.7795,0,0,-.7795,.6264,0,0,1.01,0,1)},
        {frame: 157, value: _M(1,0,0,0,0,.683,.7304,0,0,-.7304,.683,0,0,1.01,0,1)},
        {frame: 158, value: _M(1,0,0,0,0,.7415,.671,0,0,-.671,.7415,0,0,1.01,0,1)},
        {frame: 159, value: _M(1,0,0,0,0,.7985,.6021,0,0,-.6021,.7985,0,0,1.01,0,1)},
        {frame: 160, value: _M(1,0,0,0,0,.8507,.5256,0,0,-.5256,.8507,0,0,1.01,0,1)},
        {frame: 161, value: _M(1,0,0,0,0,.8957,.4447,0,0,-.4447,.8957,0,0,1.01,0,1)},
        {frame: 162, value: _M(1,0,0,0,0,.9318,.3629,0,0,-.3629,.9318,0,0,1.01,0,1)},
        {frame: 163, value: _M(1,0,0,0,0,.9588,.284,0,0,-.284,.9588,0,0,1.01,0,1)},
        {frame: 164, value: _M(1,0,0,0,0,.9774,.2114,0,0,-.2114,.9774,0,0,1.01,0,1)},
        {frame: 165, value: _M(1,0,0,0,0,.989,.1476,0,0,-.1476,.989,0,0,1.01,0,1)},
        {frame: 166, value: _M(1,0,0,0,0,.9955,.0945,0,0,-.0945,.9955,0,0,1.01,0,1)},
        {frame: 167, value: _M(1,0,0,0,0,.9986,.0529,0,0,-.0529,.9986,0,0,1.01,0,1)},
        {frame: 168, value: _M(1,0,0,0,0,.9997,.0234,0,0,-.0234,.9997,0,0,1.01,0,1)},
        {frame: 169, value: _M(1,0,0,0,0,1,.0058,0,0,-.0058,1,0,0,1.01,0,1)},
        {frame: 170, value: _M(1,0,0,0,0,1,0,0,0,0,1,0,0,1.01,0,1)}
        ]);
        bone.animations.push(animation);

        bone = new QI.Bone("Bone.003", skeleton,skeleton.bones[2], _M(1,0,0,0,0,1,0,0,0,0,1,0,0,1.0046,0,1), _M(1,0,0,0,0,1,0,0,0,0,1,0,0,1.0046,0,1));
        bone.length = .9776;
        animation = new _B.Animation("anim", "_matrix", 24, 3, 1);
        animation.setKeys([
        {frame: 1, value: _M(1,0,0,0,0,1,0,0,0,0,1,0,0,1.0046,0,1)},
        {frame: 2, value: _M(1,0,0,0,0,1,-.0089,0,0,.0089,1,0,0,1.0046,0,1)},
        {frame: 3, value: _M(1,0,0,0,0,.9994,-.0356,0,0,.0356,.9994,0,0,1.0046,0,1)},
        {frame: 4, value: _M(1,0,0,0,0,.9969,-.0784,0,0,.0784,.9969,0,0,1.0046,0,1)},
        {frame: 5, value: _M(1,0,0,0,0,.9911,-.1329,0,0,.1329,.9911,0,0,1.0046,0,1)},
        {frame: 6, value: _M(1,0,0,0,0,.9816,-.1912,0,0,.1912,.9816,0,0,1.0046,0,1)},
        {frame: 7, value: _M(1,0,0,0,0,.9696,-.2446,0,0,.2446,.9696,0,0,1.0046,0,1)},
        {frame: 8, value: _M(1,0,0,0,0,.9582,-.286,0,0,.286,.9582,0,0,1.0046,0,1)},
        {frame: 9, value: _M(1,0,0,0,0,.9503,-.3115,0,0,.3115,.9503,0,0,1.0046,0,1)},
        {frame: 10, value: _M(1,0,0,0,0,.9474,-.3199,0,0,.3199,.9474,0,0,1.0046,0,1)},
        {frame: 11, value: _M(1,0,0,0,0,.9496,-.3133,0,0,.3133,.9496,0,0,1.0046,0,1)},
        {frame: 12, value: _M(1,0,0,0,0,.9561,-.2931,0,0,.2931,.9561,0,0,1.0046,0,1)},
        {frame: 13, value: _M(1,0,0,0,0,.9653,-.2612,0,0,.2612,.9653,0,0,1.0046,0,1)},
        {frame: 14, value: _M(1,0,0,0,0,.9746,-.2239,0,0,.2239,.9746,0,0,1.0046,0,1)},
        {frame: 15, value: _M(1,0,0,0,0,.982,-.1891,0,0,.1891,.982,0,0,1.0046,0,1)},
        {frame: 16, value: _M(1,0,0,0,0,.9868,-.1621,0,0,.1621,.9868,0,0,1.0046,0,1)},
        {frame: 17, value: _M(1,0,0,0,0,.9903,-.1387,0,0,.1387,.9903,0,0,1.0046,0,1)},
        {frame: 18, value: _M(1,0,0,0,0,.9935,-.1137,0,0,.1137,.9935,0,0,1.0046,0,1)},
        {frame: 19, value: _M(1,0,0,0,0,.9961,-.088,0,0,.088,.9961,0,0,1.0046,0,1)},
        {frame: 20, value: _M(1,0,0,0,0,.998,-.0631,0,0,.0631,.998,0,0,1.0046,0,1)},
        {frame: 21, value: _M(1,0,0,0,0,.9992,-.0407,0,0,.0407,.9992,0,0,1.0046,0,1)},
        {frame: 22, value: _M(1,0,0,0,0,.9997,-.0227,0,0,.0227,.9997,0,0,1.0046,0,1)},
        {frame: 23, value: _M(1,0,0,0,0,1,-.0098,0,0,.0098,1,0,0,1.0046,0,1)},
        {frame: 24, value: _M(1,0,0,0,0,1,-.0024,0,0,.0024,1,0,0,1.0046,0,1)},
        {frame: 25, value: _M(1,0,0,0,0,1,0,0,0,0,1,0,0,1.0046,0,1)},
        {frame: 31, value: _M(1,0,0,0,0,1,0,0,0,0,1,0,0,1.0046,0,1)},
        {frame: 32, value: _M(.9997,.0043,-.0251,0,-.0025,.9975,.0713,0,.0254,-.0712,.9971,0,0,1.0046,0,1)},
        {frame: 33, value: _M(.9948,.0281,-.0983,0,.001,.9586,.2846,0,.1023,-.2833,.9536,0,0,1.0046,0,1)},
        {frame: 34, value: _M(.9768,.0925,-.1931,0,.0368,.8158,.5771,0,.2109,-.5708,.7935,0,0,1.0046,0,1)},
        {frame: 35, value: _M(.9481,.1849,-.2586,0,.1056,.5841,.8048,0,.2998,-.7904,.5343,0,0,1.0046,0,1)},
        {frame: 36, value: _M(.9247,.2581,-.2798,0,.1661,.3878,.9066,0,.3425,-.8849,.3158,0,0,1.0046,0,1)},
        {frame: 37, value: _M(.9163,.2872,-.279,0,.1883,.3058,.9333,0,.3533,-.9078,.2261,0,0,1.0046,0,1)},
        {frame: 38, value: _M(.916,.2933,-.2736,0,.1888,.2867,.9393,0,.3539,-.912,.2072,0,0,1.0046,0,1)},
        {frame: 39, value: _M(.9158,.2988,-.2684,0,.1891,.2687,.9445,0,.3543,-.9157,.1895,0,0,1.0046,0,1)},
        {frame: 40, value: _M(.9156,.3037,-.2634,0,.1894,.252,.949,0,.3546,-.9188,.1732,0,0,1.0046,0,1)},
        {frame: 41, value: _M(.9155,.3081,-.2587,0,.1896,.2368,.9529,0,.3548,-.9214,.1583,0,0,1.0046,0,1)},
        {frame: 42, value: _M(.9154,.3119,-.2544,0,.1897,.2232,.9561,0,.355,-.9235,.1451,0,0,1.0046,0,1)},
        {frame: 43, value: _M(.9154,.315,-.2506,0,.1898,.2113,.9588,0,.355,-.9253,.1336,0,0,1.0046,0,1)},
        {frame: 44, value: _M(.9154,.3176,-.2472,0,.1897,.2012,.961,0,.3549,-.9266,.1239,0,0,1.0046,0,1)},
        {frame: 45, value: _M(.9155,.3196,-.2444,0,.1896,.1929,.9627,0,.3548,-.9277,.116,0,0,1.0046,0,1)},
        {frame: 46, value: _M(.9156,.3211,-.242,0,.1895,.1863,.964,0,.3546,-.9285,.1098,0,0,1.0046,0,1)},
        {frame: 47, value: _M(.9157,.3221,-.2401,0,.1893,.1813,.965,0,.3544,-.9292,.1051,0,0,1.0046,0,1)},
        {frame: 48, value: _M(.9159,.3228,-.2387,0,.1891,.1777,.9657,0,.3542,-.9296,.1017,0,0,1.0046,0,1)},
        {frame: 49, value: _M(.916,.3232,-.2377,0,.1889,.1752,.9662,0,.354,-.93,.0995,0,0,1.0046,0,1)},
        {frame: 50, value: _M(.9161,.3234,-.237,0,.1887,.1737,.9666,0,.3538,-.9302,.0981,0,0,1.0046,0,1)},
        {frame: 51, value: _M(.9162,.3235,-.2365,0,.1885,.1728,.9667,0,.3536,-.9303,.0973,0,0,1.0046,0,1)},
        {frame: 52, value: _M(.9163,.3235,-.2362,0,.1884,.1723,.9668,0,.3535,-.9304,.097,0,0,1.0046,0,1)},
        {frame: 53, value: _M(.9163,.3234,-.2361,0,.1884,.1722,.9669,0,.3534,-.9305,.0969,0,0,1.0046,0,1)},
        {frame: 54, value: _M(.9163,.3234,-.2361,0,.1883,.1722,.9669,0,.3533,-.9305,.0968,0,0,1.0046,0,1)},
        {frame: 61, value: _M(1,0,0,0,0,1,0,0,0,0,1,0,0,1.0046,0,1)},
        {frame: 62, value: _M(1,0,0,0,0,1,0,0,0,0,1,0,0,1.0046,0,1)},
        {frame: 71, value: _M(1,0,0,0,0,1,0,0,0,0,1,0,0,1.0046,0,1)},
        {frame: 130, value: _M(1,0,0,0,0,1,0,0,0,0,1,0,0,1.0046,0,1)},
        {frame: 141, value: _M(1,0,0,0,0,1,0,0,0,0,1,0,0,1.0046,0,1)},
        {frame: 142, value: _M(1,0,0,0,0,1,-.0089,0,0,.0089,1,0,0,1.0046,0,1)},
        {frame: 143, value: _M(1,0,0,0,0,.9994,-.0356,0,0,.0356,.9994,0,0,1.0046,0,1)},
        {frame: 144, value: _M(1,0,0,0,0,.9969,-.0784,0,0,.0784,.9969,0,0,1.0046,0,1)},
        {frame: 145, value: _M(1,0,0,0,0,.9911,-.1329,0,0,.1329,.9911,0,0,1.0046,0,1)},
        {frame: 146, value: _M(1,0,0,0,0,.9816,-.1912,0,0,.1912,.9816,0,0,1.0046,0,1)},
        {frame: 147, value: _M(1,0,0,0,0,.9696,-.2446,0,0,.2446,.9696,0,0,1.0046,0,1)},
        {frame: 148, value: _M(1,0,0,0,0,.9582,-.286,0,0,.286,.9582,0,0,1.0046,0,1)},
        {frame: 149, value: _M(1,0,0,0,0,.9503,-.3115,0,0,.3115,.9503,0,0,1.0046,0,1)},
        {frame: 150, value: _M(1,0,0,0,0,.9474,-.3199,0,0,.3199,.9474,0,0,1.0046,0,1)},
        {frame: 151, value: _M(1,0,0,0,0,.948,-.3182,0,0,.3182,.948,0,0,1.0046,0,1)},
        {frame: 152, value: _M(1,0,0,0,0,.9497,-.3131,0,0,.3131,.9497,0,0,1.0046,0,1)},
        {frame: 153, value: _M(1,0,0,0,0,.9525,-.3045,0,0,.3045,.9525,0,0,1.0046,0,1)},
        {frame: 154, value: _M(1,0,0,0,0,.9563,-.2925,0,0,.2925,.9563,0,0,1.0046,0,1)},
        {frame: 155, value: _M(1,0,0,0,0,.9609,-.2771,0,0,.2771,.9609,0,0,1.0046,0,1)},
        {frame: 156, value: _M(1,0,0,0,0,.966,-.2585,0,0,.2585,.966,0,0,1.0046,0,1)},
        {frame: 157, value: _M(1,0,0,0,0,.9715,-.2372,0,0,.2372,.9715,0,0,1.0046,0,1)},
        {frame: 158, value: _M(1,0,0,0,0,.9769,-.2136,0,0,.2136,.9769,0,0,1.0046,0,1)},
        {frame: 159, value: _M(1,0,0,0,0,.9821,-.1883,0,0,.1883,.9821,0,0,1.0046,0,1)},
        {frame: 160, value: _M(1,0,0,0,0,.9868,-.1621,0,0,.1621,.9868,0,0,1.0046,0,1)},
        {frame: 161, value: _M(1,0,0,0,0,.9907,-.1358,0,0,.1358,.9907,0,0,1.0046,0,1)},
        {frame: 162, value: _M(1,0,0,0,0,.9939,-.1101,0,0,.1101,.9939,0,0,1.0046,0,1)},
        {frame: 163, value: _M(1,0,0,0,0,.9963,-.086,0,0,.086,.9963,0,0,1.0046,0,1)},
        {frame: 164, value: _M(1,0,0,0,0,.9979,-.0641,0,0,.0641,.9979,0,0,1.0046,0,1)},
        {frame: 165, value: _M(1,0,0,0,0,.999,-.0449,0,0,.0449,.999,0,0,1.0046,0,1)},
        {frame: 166, value: _M(1,0,0,0,0,.9996,-.0288,0,0,.0288,.9996,0,0,1.0046,0,1)},
        {frame: 167, value: _M(1,0,0,0,0,.9999,-.0162,0,0,.0162,.9999,0,0,1.0046,0,1)},
        {frame: 168, value: _M(1,0,0,0,0,1,-.0072,0,0,.0072,1,0,0,1.0046,0,1)},
        {frame: 169, value: _M(1,0,0,0,0,1,-.0018,0,0,.0018,1,0,0,1.0046,0,1)},
        {frame: 170, value: _M(1,0,0,0,0,1,0,0,0,0,1,0,0,1.0046,0,1)}
        ]);
        bone.animations.push(animation);

        bone = new QI.Bone("Bone.004", skeleton,skeleton.bones[3], _M(1,0,0,0,0,1,0,0,0,0,1,0,0,.9776,0,1), _M(1,0,0,0,0,1,0,0,0,0,1,0,0,.9776,0,1));
        bone.length = .4267;
        animation = new _B.Animation("anim", "_matrix", 24, 3, 1);
        animation.setKeys([
        {frame: 1, value: _M(1,0,0,0,0,1,0,0,0,0,1,0,0,.9776,0,1)},
        {frame: 2, value: _M(1,0,0,0,0,1,-.0045,0,0,.0045,1,0,0,.9776,0,1)},
        {frame: 3, value: _M(1,0,0,0,0,.9998,-.0178,0,0,.0178,.9998,0,0,.9776,0,1)},
        {frame: 4, value: _M(1,0,0,0,0,.9992,-.0393,0,0,.0393,.9992,0,0,.9776,0,1)},
        {frame: 5, value: _M(1,0,0,0,0,.9978,-.0665,0,0,.0665,.9978,0,0,.9776,0,1)},
        {frame: 6, value: _M(1,0,0,0,0,.9954,-.0959,0,0,.0959,.9954,0,0,.9776,0,1)},
        {frame: 7, value: _M(1,0,0,0,0,.9924,-.123,0,0,.123,.9924,0,0,.9776,0,1)},
        {frame: 8, value: _M(1,0,0,0,0,.9895,-.1443,0,0,.1443,.9895,0,0,.9776,0,1)},
        {frame: 9, value: _M(1,0,0,0,0,.9875,-.1575,0,0,.1575,.9875,0,0,.9776,0,1)},
        {frame: 10, value: _M(1,0,0,0,0,.9868,-.1621,0,0,.1621,.9868,0,0,.9776,0,1)},
        {frame: 11, value: _M(1,0,0,0,0,.9935,-.1136,0,0,.1136,.9935,0,0,.9776,0,1)},
        {frame: 12, value: _M(1,0,0,0,0,.9995,.0314,0,0,-.0314,.9995,0,0,.9776,0,1)},
        {frame: 13, value: _M(1,0,0,0,0,.9704,.2415,0,0,-.2415,.9704,0,0,.9776,0,1)},
        {frame: 14, value: _M(1,0,0,0,0,.8977,.4406,0,0,-.4406,.8977,0,0,.9776,0,1)},
        {frame: 15, value: _M(1,0,0,0,0,.8245,.5658,0,0,-.5658,.8245,0,0,.9776,0,1)},
        {frame: 16, value: _M(1,0,0,0,0,.7958,.6055,0,0,-.6055,.7958,0,0,.9776,0,1)},
        {frame: 17, value: _M(1,0,0,0,0,.8063,.5915,0,0,-.5915,.8063,0,0,.9776,0,1)},
        {frame: 18, value: _M(1,0,0,0,0,.8365,.548,0,0,-.548,.8365,0,0,.9776,0,1)},
        {frame: 19, value: _M(1,0,0,0,0,.8803,.4744,0,0,-.4744,.8803,0,0,.9776,0,1)},
        {frame: 20, value: _M(1,0,0,0,0,.927,.3751,0,0,-.3751,.927,0,0,.9776,0,1)},
        {frame: 21, value: _M(1,0,0,0,0,.9649,.2626,0,0,-.2626,.9649,0,0,.9776,0,1)},
        {frame: 22, value: _M(1,0,0,0,0,.9879,.1553,0,0,-.1553,.9879,0,0,.9776,0,1)},
        {frame: 23, value: _M(1,0,0,0,0,.9975,.0703,0,0,-.0703,.9975,0,0,.9776,0,1)},
        {frame: 24, value: _M(1,0,0,0,0,.9998,.0175,0,0,-.0175,.9998,0,0,.9776,0,1)},
        {frame: 25, value: _M(1,0,0,0,0,1,0,0,0,0,1,0,0,.9776,0,1)},
        {frame: 31, value: _M(1,0,0,0,0,1,0,0,0,0,1,0,0,.9776,0,1)},
        {frame: 32, value: _M(.9999,-.0066,.0109,0,.0063,.9996,.029,0,-.011,-.029,.9995,0,0,.9776,0,1)},
        {frame: 33, value: _M(.9988,-.0278,.0415,0,.0227,.9929,.1172,0,-.0444,-.1161,.9922,0,0,.9776,0,1)},
        {frame: 34, value: _M(.9946,-.0633,.082,0,.0409,.967,.2514,0,-.0952,-.2467,.9644,0,0,.9776,0,1)},
        {frame: 35, value: _M(.9877,-.1049,.1163,0,.0508,.917,.3957,0,-.1482,-.3849,.911,0,0,.9776,0,1)},
        {frame: 36, value: _M(.9813,-.1379,.1343,0,.0504,.8574,.5122,0,-.1857,-.4958,.8483,0,0,.9776,0,1)},
        {frame: 37, value: _M(.979,-.1524,.1358,0,.0447,.8092,.5858,0,-.1991,-.5674,.799,0,0,.9776,0,1)},
        {frame: 38, value: _M(.9794,-.155,.1295,0,.038,.7711,.6356,0,-.1984,-.6176,.7611,0,0,.9776,0,1)},
        {frame: 39, value: _M(.9805,-.1547,.1216,0,.0312,.7325,.68,0,-.1943,-.6629,.723,0,0,.9776,0,1)},
        {frame: 40, value: _M(.9821,-.1514,.1124,0,.0247,.6943,.7192,0,-.1869,-.7035,.6856,0,0,.9776,0,1)},
        {frame: 41, value: _M(.9841,-.1451,.1021,0,.0188,.6574,.7533,0,-.1765,-.7394,.6497,0,0,.9776,0,1)},
        {frame: 42, value: _M(.9865,-.136,.0911,0,.0136,.6225,.7825,0,-.1632,-.7707,.6159,0,0,.9776,0,1)},
        {frame: 43, value: _M(.989,-.1244,.0797,0,.0092,.5902,.8072,0,-.1474,-.7976,.5849,0,0,.9776,0,1)},
        {frame: 44, value: _M(.9915,-.1106,.0681,0,.0058,.5613,.8276,0,-.1298,-.8202,.5572,0,0,.9776,0,1)},
        {frame: 45, value: _M(.9938,-.0954,.0567,0,.0033,.536,.8442,0,-.1109,-.8388,.533,0,0,.9776,0,1)},
        {frame: 46, value: _M(.9958,-.0793,.0458,0,.0015,.5146,.8574,0,-.0916,-.8538,.5126,0,0,.9776,0,1)},
        {frame: 47, value: _M(.9974,-.0633,.0357,0,.0005,.4971,.8677,0,-.0726,-.8654,.4958,0,0,.9776,0,1)},
        {frame: 48, value: _M(.9985,-.0479,.0265,0,-.0001,.4832,.8755,0,-.0548,-.8742,.4825,0,0,.9776,0,1)},
        {frame: 49, value: _M(.9992,-.034,.0186,0,-.0003,.4727,.8812,0,-.0387,-.8805,.4724,0,0,.9776,0,1)},
        {frame: 50, value: _M(.9997,-.0221,.0119,0,-.0003,.4652,.8852,0,-.0251,-.8849,.465,0,0,.9776,0,1)},
        {frame: 51, value: _M(.9999,-.0125,.0067,0,-.0002,.4601,.8879,0,-.0142,-.8878,.46,0,0,.9776,0,1)},
        {frame: 52, value: _M(1,-.0056,.003,0,-.0001,.4569,.8895,0,-.0063,-.8895,.4569,0,0,.9776,0,1)},
        {frame: 53, value: _M(1,-.0014,.0007,0,0,.4553,.8903,0,-.0016,-.8903,.4553,0,0,.9776,0,1)},
        {frame: 54, value: _M(1,0,0,0,0,.4549,.8906,0,0,-.8906,.4549,0,0,.9776,0,1)},
        {frame: 61, value: _M(1,0,0,0,0,1,0,0,0,0,1,0,0,.9776,0,1)},
        {frame: 62, value: _M(1,0,0,0,0,1,0,0,0,0,1,0,0,.9776,0,1)},
        {frame: 71, value: _M(1,0,0,0,0,1,0,0,0,0,1,0,0,.9776,0,1)},
        {frame: 130, value: _M(1,0,0,0,0,1,0,0,0,0,1,0,0,.9776,0,1)},
        {frame: 141, value: _M(1,0,0,0,0,1,0,0,0,0,1,0,0,.9776,0,1)},
        {frame: 142, value: _M(1,0,0,0,0,1,-.0045,0,0,.0045,1,0,0,.9776,0,1)},
        {frame: 143, value: _M(1,0,0,0,0,.9998,-.0178,0,0,.0178,.9998,0,0,.9776,0,1)},
        {frame: 144, value: _M(1,0,0,0,0,.9992,-.0393,0,0,.0393,.9992,0,0,.9776,0,1)},
        {frame: 145, value: _M(1,0,0,0,0,.9978,-.0666,0,0,.0666,.9978,0,0,.9776,0,1)},
        {frame: 146, value: _M(1,0,0,0,0,.9954,-.096,0,0,.096,.9954,0,0,.9776,0,1)},
        {frame: 147, value: _M(1,0,0,0,0,.9924,-.1232,0,0,.1232,.9924,0,0,.9776,0,1)},
        {frame: 148, value: _M(1,0,0,0,0,.9895,-.1444,0,0,.1444,.9895,0,0,.9776,0,1)},
        {frame: 149, value: _M(1,0,0,0,0,.9875,-.1577,0,0,.1577,.9875,0,0,.9776,0,1)},
        {frame: 150, value: _M(1,0,0,0,0,.9868,-.1621,0,0,.1621,.9868,0,0,.9776,0,1)},
        {frame: 151, value: _M(1,0,0,0,0,.9869,-.1612,0,0,.1612,.9869,0,0,.9776,0,1)},
        {frame: 152, value: _M(1,0,0,0,0,.9874,-.1585,0,0,.1585,.9874,0,0,.9776,0,1)},
        {frame: 153, value: _M(1,0,0,0,0,.9881,-.154,0,0,.154,.9881,0,0,.9776,0,1)},
        {frame: 154, value: _M(1,0,0,0,0,.989,-.1478,0,0,.1478,.989,0,0,.9776,0,1)},
        {frame: 155, value: _M(1,0,0,0,0,.9902,-.1398,0,0,.1398,.9902,0,0,.9776,0,1)},
        {frame: 156, value: _M(1,0,0,0,0,.9915,-.1303,0,0,.1303,.9915,0,0,.9776,0,1)},
        {frame: 157, value: _M(1,0,0,0,0,.9928,-.1194,0,0,.1194,.9928,0,0,.9776,0,1)},
        {frame: 158, value: _M(1,0,0,0,0,.9942,-.1074,0,0,.1074,.9942,0,0,.9776,0,1)},
        {frame: 159, value: _M(1,0,0,0,0,.9955,-.0945,0,0,.0945,.9955,0,0,.9776,0,1)},
        {frame: 160, value: _M(1,0,0,0,0,.9967,-.0813,0,0,.0813,.9967,0,0,.9776,0,1)},
        {frame: 161, value: _M(1,0,0,0,0,.9977,-.068,0,0,.068,.9977,0,0,.9776,0,1)},
        {frame: 162, value: _M(1,0,0,0,0,.9985,-.0552,0,0,.0552,.9985,0,0,.9776,0,1)},
        {frame: 163, value: _M(1,0,0,0,0,.9991,-.0431,0,0,.0431,.9991,0,0,.9776,0,1)},
        {frame: 164, value: _M(1,0,0,0,0,.9995,-.0321,0,0,.0321,.9995,0,0,.9776,0,1)},
        {frame: 165, value: _M(1,0,0,0,0,.9997,-.0225,0,0,.0225,.9997,0,0,.9776,0,1)},
        {frame: 166, value: _M(1,0,0,0,0,.9999,-.0145,0,0,.0145,.9999,0,0,.9776,0,1)},
        {frame: 167, value: _M(1,0,0,0,0,1,-.0081,0,0,.0081,1,0,0,.9776,0,1)},
        {frame: 168, value: _M(1,0,0,0,0,1,-.0036,0,0,.0036,1,0,0,.9776,0,1)},
        {frame: 169, value: _M(1,0,0,0,0,1,-.0009,0,0,.0009,1,0,0,.9776,0,1)},
        {frame: 170, value: _M(1,0,0,0,0,1,0,0,0,0,1,0,0,.9776,0,1)}
        ]);
        bone.animations.push(animation);

        skeleton.createAnimationRange("Attack", 0, 25);
        skeleton.createAnimationRange("Dead", 30, 54);
        skeleton.createAnimationRange("Relax", 60, 62);
        skeleton.createAnimationRange("Stand", 70, 130);
        skeleton.createAnimationRange("Walk", 140, 170);
        return skeleton;
    }

    var Worm = (function (_super) {
        __extends(Worm, _super);
        function Worm(name, scene, materialsRootDir, source) {
            _super.call(this, name, scene, null, source, true);

            if (!materialsRootDir) { materialsRootDir = "./"; }
            defineMaterials(scene, materialsRootDir); //embedded version check
            var cloning = source && source !== null;
            this.position.x  = 0;
            this.position.y  = 0;
            this.position.z  = 0;
            this.rotation.x  = 0;
            this.rotation.y  = 0;
            this.rotation.z  = 0;
            this.scaling.x   = 1;
            this.scaling.y   = 1;
            this.scaling.z   = 1;
            this.skeleton = skel_Armature(name, scene);
            this.numBoneInfluencers = 3;


            this.id = this.name;
            this.billboardMode  = 0;
            this.isVisible  = false; //always false; evaluated again at bottom
            this.setEnabled(true);
            this.checkCollisions = false;
            this.receiveShadows  = false;
            this.castShadows  = false;
            if (!cloning){
                this.setVerticesData(_B.VertexBuffer.PositionKind, new Float32Array([
                    0,.4905,-2.0019,.471,.471,-1.4839,0,.6661,-1.4839,.4905,0,-2.0019,.9212,0,-1.4839,.4905,0,-2.0019,.471,-.2245,-1.4839,.9212,0,-1.4839,.3468,-.165,-2.0019,0,-.3178,-1.4839,0,-.3178,-1.4839,-.3468,-.165,-2.0019,-.471,-.2245,-1.4839,-.4905,0,-2.0019,-.9212,0,-1.4839,.4905,0,-2.0019,.3468,-.165,-2.2193
                    ,-.4905,0,-2.0019,-.471,.471,-1.4839,-.9212,0,-1.4839,-.3468,.3468,-2.0019,0,.6661,-1.4839,0,-.1356,2.224,-.2017,-.0956,2.224,-.2017,.2017,2.224,-.4214,.4214,0,0,.7497,.4946,-.5301,.5301,.4946,-.5959,0,0,-.7497,0,.4946,-.5301,-.2527,.4946,-.5959,0,0,-.7497,0,.4946,0,-.3578,.4946
                    ,-.4214,-.2007,0,.4214,-.2007,0,0,-.3578,.4946,.5301,-.2527,.4946,.5959,0,0,.7497,0,.4946,.4214,.4214,0,.7497,0,.4946,.5301,.5301,.4946,0,.5959,0,0,.7497,.4946,-.5301,.5301,-.4946,0,.5959,-.9893,0,.7497,-.4946,-.5959,0,-.9893,-1.0368,0,-.4946,-.5301,-.2527,-.4946
                    ,-.5959,0,-.9893,-1.0368,0,-.4946,0,-.3578,-.4946,-.4214,-.2007,-.9893,.4214,-.2007,-.9893,0,-.3578,-.4946,.5301,-.2527,-.4946,.5959,0,-.9893,1.0368,0,-.4946,.5301,.5301,-.4946,.5959,0,-.9893,1.0368,0,-.4946,0,.5959,-.9893,0,.7497,-.4946,0,.5959,.9893,.4658,.4658,1.4839,0,.6588,1.4839
                    ,.5959,0,.9893,.6588,0,1.4839,.5959,0,.9893,.4658,-.222,1.4839,.6588,0,1.4839,.4214,-.2007,.9893,0,-.3143,1.4839,0,-.3143,1.4839,-.4214,-.2007,.9893,-.4658,-.222,1.4839,-.5959,0,.9893,-.6588,0,1.4839,-.5959,0,.9893,-.4658,.4658,1.4839,-.6588,0,1.4839,-.4214,.4214,.9893,0,.6588,1.4839
                    ,0,.2853,2.224,-.2017,.2017,2.224,-.6588,0,1.4839,-.2017,.2017,2.224,-.2853,0,2.224,-.2853,0,2.224,-.2017,-.0956,2.224,0,-.3143,1.4839,-.2017,-.0956,2.224,0,-.1356,2.224,.2017,-.0956,2.224,0,-.1356,2.224,.2853,0,2.224,.2853,0,2.224,.2017,.2017,2.224,0,.2853,2.224,0,.7497,.4946
                    ,.4214,.4214,.9893,.7497,0,.4946,.5959,0,.9893,0,-.3578,.4946,0,-.2842,.9893,0,-.2842,.9893,-.5959,0,.9893,0,.5959,.9893,0,.7497,-.4946,.5959,0,0,0,-.3578,-.4946,0,-.2842,0,0,-.2842,0,-.5959,0,0,0,.5959,0,-.4214,.4214,-.9893,-.5959,0,-.9893
                    ,0,-.3178,-1.4839,0,-.2842,-.9893,0,-.2842,-.9893,.5959,0,-.9893,.4214,.4214,-.9893,0,.5959,-.9893,-.3468,.3018,-2.2193,-.2367,0,-2.4712,-.1673,.1673,-2.4712,-.3468,-.165,-2.2193,-.4905,0,-2.2193,0,-.2338,-2.0019,0,-.2338,-2.2193,-.4905,0,-2.0019,-.3468,.3018,-2.2193,.3468,.3018,-2.2193,.4905,0,-2.2193
                    ,0,-.2338,-2.0019,0,.4455,-2.2193,0,.4905,-2.0019,.3468,.3468,-2.0019,0,.4455,-2.2193,-.1673,-.0792,-2.4712,0,-.1123,-2.4712,0,-.2338,-2.2193,-.1673,-.0792,-2.4712,.2367,0,-2.4712,.1673,-.0792,-2.4712,0,.4455,-2.2193,.1673,.1673,-2.4712,.3468,.3018,-2.2193,0,.4455,-2.2193,0,.2367,-2.4712,-.2367,0,-2.4712
                    ,0,-.1123,-2.4712,.3468,.3018,-2.2193,.2367,0,-2.4712,.4905,0,-2.2193,.4905,0,-2.0019,0,-.3178,-1.4839,0,-.2338,-2.0019,.4905,0,-2.0019,.4905,0,-2.2193,-.4905,0,-2.0019,0,.4905,-2.0019,0,.6661,-1.4839,0,.2853,2.224,.2017,.2017,2.224,.2853,0,2.224,.2017,-.0956,2.224,.2017,-.0956,2.224
                    ,.2017,.2017,2.224,-.2853,0,2.224,0,.2853,2.224,.2017,.2017,2.224,0,.5959,0,-.5959,0,0,0,-.2842,0,0,-.3578,.4946,.5959,0,0,.7497,0,.4946,-.5959,0,-.9893,0,-.2842,-.9893,0,-.3578,-.4946,.5959,0,-.9893,0,.5959,-.9893,.5959,0,.9893,0,-.3143,1.4839
                    ,0,-.2842,.9893,-.5959,0,.9893,0,.5959,.9893,0,.6588,1.4839,0,.6588,1.4839,-.6588,0,1.4839,-.2017,.2017,2.224,-.2853,0,2.224,0,-.3143,1.4839,-.2017,-.0956,2.224,.6588,0,1.4839,.2853,0,2.224,0,.2853,2.224,0,.7497,.4946,.7497,0,.4946,.5959,0,.9893,0,-.3578,.4946
                    ,-.7497,0,.4946,0,.5959,.9893,0,.7497,-.4946,1.0368,0,-.4946,.5959,0,0,0,-.3578,-.4946,-1.0368,0,-.4946,-.5959,0,0,0,.5959,0,0,.6661,-1.4839,-.9212,0,-1.4839,-.5959,0,-.9893,0,-.3178,-1.4839,.9212,0,-1.4839,.5959,0,-.9893,-.4905,0,-2.2193,-.4905,0,-2.0019
                    ,-.4905,0,-2.2193,-.3468,.3018,-2.2193,0,-.2338,-2.0019,0,-.2338,-2.2193,-.3468,.3018,-2.2193,0,.4455,-2.2193,.2367,0,-2.4712,.1673,-.0792,-2.4712,.1673,-.0792,-2.4712,0,-.2338,-2.2193,0,-.1123,-2.4712,-.1673,-.0792,-2.4712,.4905,0,-2.2193,0,.4455,-2.2193,0,.4455,-2.2193,-.1673,-.0792,-2.4712,-.2367,0,-2.4712
                    ,.3468,.3018,-2.2193,.2367,0,-2.4712
                ]),
                false);

                var _i;//indices & affected indices for shapekeys
                _i = new Uint32Array([0,1,2,1,3,4,5,6,7,8,9,6,10,11,12,12,13,14,15,16,8,17,18,19,20,21,18,22,23,24,25,26,27,28,27,29,30,31,32,33,34,30,35,36,37,38,37,39,40,41
                ,42,43,42,44,45,46,47,48,45,49,50,51,52,53,54,50,55,56,57,58,57,59,60,61,62,63,60,64,65,66,67,66,68,69,70,71,72,73,74,71,75,76,77,77,78,79,80,81,82,83
                ,84,81,81,85,86,87,88,89,77,90,91,92,93,94,95,74,96,97,71,95,66,98,99,100,66,99,101,102,65,102,103,68,104,37,73,73,105,106,33,76,107,30,78,76,29,83,108,27,109,83
                ,110,40,43,60,111,40,38,57,35,35,112,113,53,34,114,50,115,34,28,45,25,45,116,25,18,46,117,48,18,117,12,118,54,119,54,120,55,9,121,58,6,55,1,122,123,2,123,124,125,126
                ,127,13,128,129,130,16,131,132,133,20,3,134,135,136,128,11,20,137,138,139,140,134,141,142,127,143,144,128,16,145,146,147,148,149,150,127,151,128,152,129,131,146,153,154,155,156,0,139,1,1
                ,139,3,157,8,6,8,130,9,158,159,11,12,11,13,160,161,16,162,20,18,20,163,164,24,165,22,166,167,168,169,22,170,23,171,24,172,173,22,25,174,26,28,25,27,30,34,175,33,176,34
                ,35,113,177,38,35,37,40,178,179,43,40,42,45,117,46,48,117,45,50,54,180,53,120,54,55,181,182,58,55,57,60,123,183,184,123,60,65,102,66,66,102,68,185,73,71,73,106,74,186,187
                ,76,77,76,78,188,83,81,83,189,190,81,191,85,192,81,193,77,79,194,195,77,196,95,71,74,97,197,71,66,69,198,199,67,66,200,42,102,102,42,201,202,39,37,73,37,203,33,30,76,30
                ,204,78,29,27,83,27,26,205,206,60,40,60,207,208,38,59,57,35,57,209,53,50,34,50,210,211,28,49,45,45,47,212,18,213,46,48,214,18,12,14,215,216,12,54,55,6,9,58,217,6
                ,1,4,218,2,1,123,125,219,126,13,11,128,130,8,16,220,221,222,3,139,134,223,224,128,20,225,137,139,0,226,227,148,228,151,127,142,126,141,127,142,229,148,148,151,142,230,231,232,16,233
                ,145,234,151,148,235,125,127,128,236,237,131,16,146,238,148,239]);
                this.setIndices(_i);

                this.setVerticesData(_B.VertexBuffer.NormalKind, new Float32Array([
                    0,.9639,-.2663,.6261,.7754,-.0818,0,.9961,-.088,.9513,-.1722,-.2555,.9897,-.1358,-.0441,.9513,-.1722,-.2555,.3832,-.9222,-.0506,.9897,-.1358,-.0441,.4844,-.8682,-.1078,0,-.9989,-.0458,0,-.9989,-.0458,-.4844,-.8682,-.1078,-.3832,-.9222,-.0506,-.9513,-.1722,-.2555,-.9897,-.1358,-.0441,.9513,-.1722,-.2555,.5036,-.8179,-.2781
                    ,-.9513,-.1722,-.2555,-.6261,.7754,-.0818,-.9897,-.1358,-.0441,-.6751,.6971,-.2413,0,.9961,-.088,0,-.6618,.7496,-.3032,-.587,.7506,-.4288,.4288,.7952,-.7071,.7071,0,0,1,0,-.7071,.7071,0,-.975,-.1978,.101,-.9891,-.1468,0,-.524,-.8517,0,-.975,-.1978,.101,-.9891,-.1468,0,0,-1,0
                    ,-.4759,-.8795,0,.4759,-.8795,0,0,-1,0,.524,-.8517,0,.975,-.1978,.101,.9891,-.1468,0,.7071,.7071,0,.9891,-.1468,0,.7071,.7071,0,0,1,0,0,1,0,-.6324,.7746,0,0,.9964,-.0848,0,1,0,-.9736,-.2085,-.0931,-.9911,-.1328,0,-.3918,-.92,0
                    ,-.9736,-.2085,-.0931,-.9911,-.1328,0,0,-1,0,-.4823,-.8744,-.0535,.4823,-.8744,-.0535,0,-1,0,.3918,-.92,0,.9736,-.2085,-.0931,.9911,-.1328,0,.6324,.7746,0,.9736,-.2085,-.0931,.9911,-.1328,0,0,.9964,-.0848,0,1,0,0,.9957,.0923,.6981,.6981,.1588,0,.9873,.1588
                    ,.9806,-.1729,.0927,.9771,-.1466,.1542,.9806,-.1729,.0927,.5192,-.8468,.1153,.9771,-.1466,.1542,.4827,-.8738,.0583,0,-.9962,.0864,0,-.9962,.0864,-.4827,-.8738,.0583,-.5192,-.8468,.1153,-.9806,-.1729,.0927,-.9771,-.1466,.1542,-.9806,-.1729,.0927,-.6981,.6981,.1588,-.9771,-.1466,.1542,-.7041,.7041,.0923,0,.9873,.1588
                    ,0,.6064,.7952,-.4288,.4288,.7952,-.9771,-.1466,.1542,-.4288,.4288,.7952,-.6242,-.1225,.7716,-.6242,-.1225,.7716,-.3032,-.587,.7506,0,-.9962,.0864,-.3032,-.587,.7506,0,-.6618,.7496,.3032,-.587,.7506,0,-.6618,.7496,.6242,-.1225,.7716,.6242,-.1225,.7716,.4288,.4288,.7952,0,.6064,.7952,0,1,0
                    ,.7041,.7041,.0923,.9891,-.1468,0,.9806,-.1729,.0927,0,-1,0,0,-.999,.044,0,-.999,.044,-.9806,-.1729,.0927,0,.9957,.0923,0,1,0,.975,-.1978,.101,0,-1,0,0,-1,0,0,-1,0,-.975,-.1978,.101,0,1,0,-.7046,.7046,-.0848,-.9736,-.2085,-.0931
                    ,0,-.9989,-.0458,0,-.9992,-.0405,0,-.9992,-.0405,.9736,-.2085,-.0931,.7046,.7046,-.0848,0,.9964,-.0848,-.662,.6393,-.3912,-.4828,-.1,-.87,-.3363,.3573,-.8713,-.5036,-.8179,-.2781,-.9319,-.119,-.3424,0,-.9967,-.0811,0,-.9762,-.2169,-.9513,-.1722,-.2555,-.662,.6393,-.3912,.662,.6393,-.3912,.9319,-.119,-.3424
                    ,0,-.9967,-.0811,0,.9113,-.4118,0,.9639,-.2663,.6751,.6971,-.2413,0,.9113,-.4118,-.2366,-.5074,-.8286,0,-.5761,-.8174,0,-.9762,-.2169,-.2366,-.5074,-.8286,.4828,-.1,-.87,.2366,-.5074,-.8286,0,.9113,-.4118,.3363,.3573,-.8713,.662,.6393,-.3912,0,.9113,-.4118,0,.5042,-.8636,-.4828,-.1,-.87
                    ,0,-.5761,-.8174,.662,.6393,-.3912,.4828,-.1,-.87,.9319,-.119,-.3424,.9513,-.1722,-.2555,0,-.9989,-.0458,0,-.9967,-.0811,.9513,-.1722,-.2555,.9319,-.119,-.3424,-.9513,-.1722,-.2555,0,.9639,-.2663,0,.9961,-.088,0,.6064,.7952,.4288,.4288,.7952,.6242,-.1225,.7716,.3032,-.587,.7506,.3032,-.587,.7506
                    ,.4288,.4288,.7952,-.6242,-.1225,.7716,0,.6064,.7952,.4288,.4288,.7952,0,1,0,-.975,-.1978,.101,0,-1,0,0,-1,0,.975,-.1978,.101,.9891,-.1468,0,-.9736,-.2085,-.0931,0,-.9992,-.0405,0,-1,0,.9736,-.2085,-.0931,0,.9964,-.0848,.9806,-.1729,.0927,0,-.9962,.0864
                    ,0,-.999,.044,-.9806,-.1729,.0927,0,.9957,.0923,0,.9873,.1588,0,.9873,.1588,-.9771,-.1466,.1542,-.4288,.4288,.7952,-.6242,-.1225,.7716,0,-.9962,.0864,-.3032,-.587,.7506,.9771,-.1466,.1542,.6242,-.1225,.7716,0,.6064,.7952,0,1,0,.9891,-.1468,0,.9806,-.1729,.0927,0,-1,0
                    ,-.9891,-.1468,0,0,.9957,.0923,0,1,0,.9911,-.1328,0,.975,-.1978,.101,0,-1,0,-.9911,-.1328,0,-.975,-.1978,.101,0,1,0,0,.9961,-.088,-.9897,-.1358,-.0441,-.9736,-.2085,-.0931,0,-.9989,-.0458,.9897,-.1358,-.0441,.9736,-.2085,-.0931,-.9319,-.119,-.3424,-.9513,-.1722,-.2555
                    ,-.9319,-.119,-.3424,-.662,.6393,-.3912,0,-.9967,-.0811,0,-.9762,-.2169,-.662,.6393,-.3912,0,.9113,-.4118,.4828,-.1,-.87,.2366,-.5074,-.8286,.2366,-.5074,-.8286,0,-.9762,-.2169,0,-.5761,-.8174,-.2366,-.5074,-.8286,.9319,-.119,-.3424,0,.9113,-.4118,0,.9113,-.4118,-.2366,-.5074,-.8286,-.4828,-.1,-.87
                    ,.662,.6393,-.3912,.4828,-.1,-.87
                ]),
                false);

                this.setVerticesData(_B.VertexBuffer.UVKind, new Float32Array([
                    .2203,.8203,.1533,.7475,.2388,.7273,.0909,.8316,.0316,.7572,.7675,.1075,.7989,.2156,.7087,.22,.8082,.1082,.8751,.208,.6766,.747,.6097,.8468,.6004,.7393,.5689,.8474,.5102,.735,.7675,.1075,.8082,.0647,.3353,.0497,.3977,.1337,.276,.124,.4017,.0461,.4832,.1539,.0132,.9511,.0056,.9103,.0571,.8873
                    ,.3792,.4217,.4714,.529,.3752,.5063,.2985,.4261,.2737,.5118,.5959,.3418,.5545,.4449,.5336,.3428,.6817,.3504,.6041,.4441,.8026,.5109,.8803,.6046,.7945,.6132,.7531,.5101,.7321,.6122,.1348,.4596,.0293,.3695,.1308,.375,.2113,.4415,.227,.3522,.3869,.3173,.4674,.2508,.4832,.3401,.3103,.2371,.25,.3064
                    ,.5959,.5396,.5545,.6427,.4944,.5348,.6817,.5482,.6041,.6419,.8026,.313,.8803,.4067,.7945,.4153,.7531,.3122,.693,.4202,.1425,.5639,.0659,.6442,.0056,.5748,.2231,.6304,.2388,.5412,.1996,.2525,.118,.1801,.2025,.1601,.0424,.2662,.0288,.1753,.7531,.7079,.7993,.8091,.7445,.8082,.8026,.7087,.8747,.8015
                    ,.6761,.1535,.6041,.2462,.6008,.1459,.5545,.247,.546,.1468,.2868,.615,.3624,.7011,.2732,.7059,.3675,.6107,.4469,.7211,.3857,.8752,.3491,.8665,.2732,.7059,.3491,.8665,.3105,.8686,.5969,.0064,.6206,.0061,.6761,.1535,.6206,.0061,.6532,.0093,.8191,.9489,.8518,.9456,.7955,.9485,.0661,.0126,.1047,.0147
                    ,.1413,.0061,.227,.3522,.1231,.2706,.0293,.3695,.7531,.7079,.8803,.6046,.8708,.7019,.6723,.253,.2868,.615,.444,.6288,.2388,.5412,.0542,.4552,.8803,.4067,.8708,.5041,.6723,.4509,.5545,.4449,.4557,.4398,.3909,.2327,.5545,.6427,.6766,.747,.6723,.6488,.8708,.3062,.0659,.6442,.1466,.6485,.2231,.6304
                    ,.9022,.0488,.962,.0559,.9346,.0776,.6097,.8902,.5689,.8909,.8644,.1026,.8644,.0591,.3353,.0497,.398,.0061,.1536,.8752,.0935,.8731,.6658,.8524,.4609,.021,.4647,.061,.1573,.8352,.2165,.8603,.9795,.0657,.993,.097,.6658,.8959,.6231,.9462,.8021,.0085,.8217,.0088,.8915,.1238,.9495,.1433,.9331,.1851
                    ,.8915,.1238,.9295,.1138,.6035,.9465,.8488,.0061,.9331,.1851,.9831,.1489,.9944,.1987,.7675,.1075,.6766,.747,.6658,.8524,.7675,.1075,.7675,.0641,.3353,.0497,.4647,.061,.4832,.1539,.086,.9185,.086,.9627,.0571,.9939,.0345,.9857,.0345,.9857,.086,.9627,.0162,.8873,.086,.9185,.086,.9627,.4557,.4398
                    ,.5545,.4449,.6723,.4509,.8803,.6046,.0542,.4552,.0293,.3695,.5545,.6427,.8708,.3062,.8803,.4067,.0659,.6442,.2231,.6304,.7531,.7079,.6761,.1535,.6723,.253,.2868,.615,.444,.6288,.4469,.7211,.4469,.7211,.2732,.7059,.3491,.8665,.5969,.0064,.6761,.1535,.6206,.0061,.7445,.8082,.0661,.0126,.1413,.0061
                    ,.227,.3522,.0293,.3695,.7531,.7079,.8803,.6046,.5336,.3428,.444,.6288,.2388,.5412,.0056,.5748,.0542,.4552,.8803,.4067,.4944,.5348,.5545,.4449,.4557,.4398,.4832,.1539,.276,.124,.5545,.6427,.6766,.747,.7087,.22,.0659,.6442,.9507,.0061,.3353,.0497,.3379,.0081,.398,.0061,.6658,.8524,.6658,.8959
                    ,.398,.0061,.2165,.8603,.9831,.1489,.9944,.1315,.9944,.1315,.6658,.8959,.6502,.9489,.6231,.9462,.7675,.0641,.8915,.1238,.8915,.1238,.6231,.9462,.6035,.9465,.9331,.1851,.9831,.1489
                ]),
                false);

                _i = new Float32Array(960);
                _i.set([.0287,.731,.2287,0,.2048,.741,.0501,0,.2036,.7417,.0485,0,.0288,.7267,.2332,0,.2219,.7312,.0359,0,.0288,.7267,.2332,0,.1786,.7674,.0512,0,.2219,.7312,.0359,0,.0037,.6717,.301,0,.0933,.845,.0612,0,.0933,.845,.0612,0,.0045,.6459,.3265,0,.1782,.7611
                ,.0587,0,.0312,.7178,.2409,0,.22,.7235,.0526,0,.0288,.7267,.2332,0,.7336,.2551,0,0,.0312,.7178,.2409,0,.2051,.7404,.0488,0,.22,.7235,.0526,0,.0294,.7362,.2232,0,.2036,.7417,.0485,0,.996,0,0,0,.9917,0,0,0,.9852,0,0,0
                ,.4484,.5394,0,0,.0405,.7995,.1535,0,.0392,.8002,.1535,0,.2001,.7851,0,0,.0321,.7666,.1905,0,.0158,.7858,.1799,0,.2001,.7851,0,0,.0321,.7666,.1905,0,.8857,.1022,0,0,.1496,.8394,0,0,.3922,.6001,0,0,.8857,.1022,0,0,.0141,.8246
                ,.1422,0,.2305,.7545,0,0,.0306,.7726,.1851,0,.2213,.7614,0,0,.0306,.7726,.1851,0,.0398,.7589,.1939,0,.4511,.5362,0,0,.0405,.7995,.1535,0,.1051,.8498,.0313,0,.8078,.1587,0,0,.1106,.8431,.0334,0,.8276,.1485,0,0,.0643,.8925,.0273,0
                ,.0302,.9242,.0142,0,.8276,.1485,0,0,.0643,.8925,.0273,0,.9693,0,0,0,.8492,.1327,0,0,.8512,.1276,0,0,.9693,0,0,0,.072,.8936,.0123,0,.8261,.1498,0,0,.0673,.8878,.0311,0,.0677,.8853,.0343,0,.8261,.1498,0,0,.0673,.8878
                ,.0311,0,.8078,.1587,0,0,.1106,.8431,.0334,0,.1725,.7917,.0208,0,.8041,.1866,0,0,.8033,.1881,0,0,.1659,.7965,.0245,0,.81,.1818,0,0,.1659,.7965,.0245,0,.8418,.1528,0,0,.81,.1818,0,0,.1404,.8336,.0014,0,.9186,.0798,0,0
                ,.9186,.0798,0,0,.1417,.8276,.0109,0,.8412,.1529,0,0,.166,.7948,.0277,0,.8116,.1802,0,0,.166,.7948,.0277,0,.8044,.1872,0,0,.8116,.1802,0,0,.1717,.7928,.0202,0,.8033,.1881,0,0,.9849,0,0,0,.9852,0,0,0,.8116,.1802
                ,0,0,.9852,0,0,0,.9865,0,0,0,.9865,0,0,0,.9917,0,0,0,.9186,.0798,0,0,.9917,0,0,0,.996,0,0,0,.9919,0,0,0,.996,0,0,0,.9863,0,0,0,.9863,0,0,0,.9856,0,0,0
                ,.9849,0,0,0,.0405,.7995,.1535,0,.1717,.7872,.0312,0,.0306,.7726,.1851,0,.1659,.7965,.0245,0,.8857,.1022,0,0,.076,.9138,0,0,.076,.9138,0,0,.166,.7948,.0277,0,.1725,.7917,.0208,0,.1106,.8431,.0334,0,.2305,.7545,0,0,.9693,0
                ,0,0,.0955,.9018,0,0,.0955,.9018,0,0,.2001,.7851,0,0,.4511,.5362,0,0,.8136,.1534,0,0,.8276,.1485,0,0,.0933,.845,.0612,0,.9224,.07,0,0,.9224,.07,0,0,.8261,.1498,0,0,.8135,.1596,0,0,.8078,.1587,0,0
                ,.6614,.3209,0,0,.935,.0617,0,0,.9258,.0704,0,0,.7456,.243,0,0,.6659,.3167,0,0,.1472,.8443,0,0,.9403,.0568,0,0,.0312,.7178,.2409,0,.6614,.3209,0,0,.6688,.314,0,0,.6579,.3249,0,0,.1472,.8443,0,0,.6714,.3114
                ,0,0,.0287,.731,.2287,0,.0287,.7285,.2314,0,.6714,.3114,0,0,.9529,.0397,0,0,.9839,0,0,0,.9403,.0568,0,0,.9529,.0397,0,0,.9357,.0612,0,0,.9556,.0347,0,0,.6714,.3114,0,0,.9247,.0714,0,0,.6688,.314,0,0
                ,.6714,.3114,0,0,.9297,.0667,0,0,.935,.0617,0,0,.9839,0,0,0,.6688,.314,0,0,.9357,.0612,0,0,.6579,.3249,0,0,.0288,.7267,.2332,0,.0933,.845,.0612,0,.1472,.8443,0,0,.0288,.7267,.2332,0,.6579,.3249,0,0,.0312,.7178
                ,.2409,0,.0287,.731,.2287,0,.2036,.7417,.0485,0,.9849,0,0,0,.9856,0,0,0,.9863,0,0,0,.9919,0,0,0,.9919,0,0,0,.9856,0,0,0,.9865,0,0,0,.9849,0,0,0,.9856,0,0,0,.4511,.5362,0,0
                ,.2001,.7851,0,0,.0955,.9018,0,0,.8857,.1022,0,0,.2305,.7545,0,0,.0306,.7726,.1851,0,.8276,.1485,0,0,.9224,.07,0,0,.9693,0,0,0,.8261,.1498,0,0,.8078,.1587,0,0,.1659,.7965,.0245,0,.9186,.0798,0,0,.076,.9138
                ,0,0,.166,.7948,.0277,0,.1725,.7917,.0208,0,.8033,.1881,0,0,.8033,.1881,0,0,.8116,.1802,0,0,.9852,0,0,0,.9865,0,0,0,.9186,.0798,0,0,.9917,0,0,0,.81,.1818,0,0,.9863,0,0,0,.9849,0,0,0
                ,.0405,.7995,.1535,0,.0306,.7726,.1851,0,.1659,.7965,.0245,0,.8857,.1022,0,0,.0321,.7666,.1905,0,.1725,.7917,.0208,0,.1106,.8431,.0334,0,.0673,.8878,.0311,0,.2305,.7545,0,0,.9693,0,0,0,.0643,.8925,.0273,0,.2001,.7851,0,0,.4511,.5362
                ,0,0,.2036,.7417,.0485,0,.22,.7235,.0526,0,.8276,.1485,0,0,.0933,.845,.0612,0,.2219,.7312,.0359,0,.8261,.1498,0,0,.6659,.3167,0,0,.0312,.7178,.2409,0,.6659,.3167,0,0,.6614,.3209,0,0,.1472,.8443,0,0,.9403,.0568,0,0
                ,.6614,.3209,0,0,.6714,.3114,0,0,.9357,.0612,0,0,.9556,.0347,0,0,.9556,.0347,0,0,.9403,.0568,0,0,.9839,0,0,0,.9529,.0397,0,0,.6579,.3249,0,0,.6714,.3114,0,0,.6714,.3114,0,0,.9529,.0397,0,0,.935,.0617
                ,0,0,.6688,.314,0,0,.9357,.0612]);
                this.setVerticesData(_B.VertexBuffer.MatricesWeightsKind, _i, false);

                _i = new Float32Array(240);
                REPEAT(_i, 0, 16, 262914);
                _i.set([772,262914,262914,262914,262914,262914,0,0,0,513,131328,131328,513,131328,131328,513,131328,513,513,513,513,131328,513,131328,513,131328,131328,513,131328,197121,770,197121,770,197121,197121,770,197121,2,770,770,2,197121,770,197121,197121,770,197121,770,197121,131328
                ,256,256,131328,256,131328,256,256,131328,256,256,131328,256,131328,256,131328,256,256,131328,256,0,0,256,0,0,0,0,256], 16);
                _i.set([131328,131328,131328,131328,513,256,256,131328,131328,197121,513,2,513,513,513,513,770,770,262914,770,770,770,770,770,772,772,772,772,772,1027,772,262914,772,772,772,1027,772,262914,262914,772,772,4], 101);
                REPEAT(_i, 143, 10, 772);
                _i.set([4,772,772,772,262914,262914,1027,262914,772,262914,262914,262914], 153);
                _i.set([513,513,513,513,513,131328,770,770,2,770,770,131328,256,256,131328,131328,256,256,256,0,0,256,0,256,0,0,131328,131328,131328,513,131328,131328,197121,197121,513,2,197121,513,513,262914,262914,770,262914,262914,770,772,262914,772,772,1027
                ,772,772,772,772,772,772,772,4], 174);
                REPEAT(_i, 232, 8, 772);
                this.setVerticesData(_B.VertexBuffer.MatricesIndicesKind, UNPACK(_i), false);

                this.setMaterialByID("worm.Material");
                this.subMeshes = [];
                new _B.SubMesh(0, 0, 240, 0, 516, this);
                if (scene._selectionOctree) {
                    scene.createOrUpdateSelectionOctree();
                }
                var animation;
                animation = new _B.Animation("rotation animation", "rotation", 24, 1, 1);
                animation.setKeys([
                {frame: 1, value: new _B.Vector3(0,0,0)},
                {frame: 10, value: new _B.Vector3(0,0,0)},
                {frame: 16, value: new _B.Vector3(0,0,0)},
                {frame: 25, value: new _B.Vector3(0,0,0)},
                {frame: 31, value: new _B.Vector3(0,0,0)},
                {frame: 37, value: new _B.Vector3(0,0,0)},
                {frame: 54, value: new _B.Vector3(0,0,0)},
                {frame: 61, value: new _B.Vector3(0,0,0)},
                {frame: 71, value: new _B.Vector3(0,0,0)},
                {frame: 100, value: new _B.Vector3(0,0,0)},
                {frame: 130, value: new _B.Vector3(0,0,0)},
                {frame: 141, value: new _B.Vector3(0,0,0)},
                {frame: 150, value: new _B.Vector3(0,0,0)},
                {frame: 170, value: new _B.Vector3(0,0,0)}
                ]);
                this.animations.push(animation);
                animation = new _B.Animation("position animation", "position", 24, 1, 1);
                animation.setKeys([
                {frame: 1, value: new _B.Vector3(0,0,0)},
                {frame: 10, value: new _B.Vector3(0,0,0)},
                {frame: 16, value: new _B.Vector3(0,0,0)},
                {frame: 25, value: new _B.Vector3(0,0,0)},
                {frame: 31, value: new _B.Vector3(0,0,0)},
                {frame: 37, value: new _B.Vector3(0,0,0)},
                {frame: 54, value: new _B.Vector3(0,0,0)},
                {frame: 61, value: new _B.Vector3(0,0,0)},
                {frame: 71, value: new _B.Vector3(0,0,0)},
                {frame: 100, value: new _B.Vector3(0,0,0)},
                {frame: 130, value: new _B.Vector3(0,0,0)},
                {frame: 141, value: new _B.Vector3(0,0,0)},
                {frame: 150, value: new _B.Vector3(0,0,0)},
                {frame: 170, value: new _B.Vector3(0,0,0)}
                ]);
                this.animations.push(animation);
                animation = new _B.Animation("scaling animation", "scaling", 24, 1, 1);
                animation.setKeys([
                {frame: 1, value: new _B.Vector3(1,1,1)},
                {frame: 10, value: new _B.Vector3(1,1,1)},
                {frame: 16, value: new _B.Vector3(1,1,1)},
                {frame: 25, value: new _B.Vector3(1,1,1)},
                {frame: 31, value: new _B.Vector3(1,1,1)},
                {frame: 37, value: new _B.Vector3(1,1,1)},
                {frame: 54, value: new _B.Vector3(1,1,1)},
                {frame: 61, value: new _B.Vector3(1,1,1)},
                {frame: 71, value: new _B.Vector3(1,1,1)},
                {frame: 100, value: new _B.Vector3(1,1,1)},
                {frame: 130, value: new _B.Vector3(1,1,1)},
                {frame: 141, value: new _B.Vector3(1,1,1)},
                {frame: 150, value: new _B.Vector3(1,1,1)},
                {frame: 170, value: new _B.Vector3(1,1,1)}
                ]);
                this.animations.push(animation);
                this.createAnimationRange("Attack", 0, 25);
                this.createAnimationRange("Dead", 30, 54);
                this.createAnimationRange("Relax", 60, 61);
                this.createAnimationRange("Stand", 70, 130);
                this.createAnimationRange("Walk", 140, 170);
            }
            if (this.postConstruction) this.postConstruction();
            if (matLoaded){
                if (typeof this.grandEntrance == "function") this.grandEntrance();
                else makeVisible(this);

            } else waitingMeshes.push(this);
        }

        Worm.prototype.dispose = function (doNotRecurse) {
            _super.prototype.dispose.call(this, doNotRecurse);
            if (this.skeleton) this.skeleton.dispose();
            clean(0);
        };
        return Worm;
    })(QI.Mesh);
    worm.Worm = Worm;

    function freshenShadowRenderLists(scene) {
        var renderList = [];
        for (var i = 0; i < scene.meshes.length; i++){
            if (scene.meshes[i]["castShadows"])
                renderList.push(scene.meshes[i]);
        }

        for (var i = 0; i < scene.lights.length; i++){
            if (scene.lights[i]._shadowGenerator)
                scene.lights[i]._shadowGenerator.getShadowMap().renderList = renderList;
        }
    }
    worm.freshenShadowRenderLists = freshenShadowRenderLists;
})(worm || (worm = {}));